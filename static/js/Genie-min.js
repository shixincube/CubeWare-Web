!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=24)}([function(t,e,n){"use strict";n.d(e,"a",function(){return r}),void 0===window.console?window.console={error:function(){},warn:function(){},info:function(){},log:function(){}}:(void 0===window.console.error&&(window.console.error=window.console.log),void 0===window.console.warn&&(window.console.warn=window.console.log),void 0===window.console.info&&(window.console.info=window.console.log));var r={enabled:!0,isDebugLevel:function(){},d:function(t,e){r.enabled&&window.console.log(r._printTime()+" [DEBUG] "+t+" - "+e)},i:function(t,e){r.enabled&&window.console.info(r._printTime()+" [INFO]  "+t+" - "+e)},w:function(t,e){r.enabled&&window.console.warn(r._printTime()+" [WARN]  "+t+" - "+e)},e:function(t,e){r.enabled&&window.console.error(r._printTime()+" [ERROR] "+t+" - "+e)},l:function(t,e,n){r.enabled&&window.console.info(r._printTime()+" [ERROR] "+t+" - "+e+n)},_printTime:function(){var t=new Date,e=[t.getHours(),":",t.getMinutes(),":",t.getSeconds(),".",t.getMilliseconds()];return t=null,e.join("")}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i={toBytes:function(t){if(void 0!==t){var e=void 0===t?"undefined":r(t);if("string"==e)return i.stringToBytes(t);if("number"==e){var n=/^-?\d+$/,a=/^[-\+]?\d+(\.\d+)?$/;return n.test(t.toString())?t>-2147483648&&t<2147483648?i.intToBytes(t):i.longToBytes(t):(a.test(t.toString()),i.doubleToBytes(t))}if("boolean"==e)return i.booleanToBytes(t);if("object"==e)return i.stringToBytes(JSON.stringify(t))}},intToBytes:function(t){var e=[];return e[0]=i.over127(255&t),e[1]=i.over127((65280&t)>>8),e[2]=i.over127((16711680&t)>>16),e[3]=i.over127((4278190080&t)>>24),e},floatToBytes:function(t){},doubleToBytes:function(t){},stringToBytes:function(t){return new TextEncoder("utf-8").encode(t)},longToBytes:function(t){var e=[];return e[0]=255&t,e[1]=255&i.toRight(t,8),e[2]=255&i.toRight(t,16),e[3]=255&i.toRight(t,24),e[4]=255&i.toRight(t,32),e[5]=255&i.toRight(t,40),e[6]=255&i.toRight(t,48),e[7]=255&i.toRight(t,56),e},booleanToBytes:function(t){return new t?1:0},toArray:function(t){for(var e=new Array,n=0,r=t.length;n<r;++n)e.push(t.charAt(n));return e},toLong:function(t){var e=t[0]|t[1]<<8|t[2]<<16|t[3]<<24;return 4294967296*((t[4]|t[5]<<8|t[6]<<16|t[7]<<24)>>>0)+(e>>>0)},toInt:function(t){return 255&t[0]|65280&t[1]<<8|16711680&t[2]<<16|4278190080&t[3]<<24},toBoolean:function(t){return 1==t[0]},toString:function(t){return new TextDecoder("utf-8").decode(new Uint8Array("object"==(void 0===t?"undefined":r(t))?t:[t]))},toRight:function(t,e){try{return parseInt(Array(e+1).join("0")+(e>t.toString(2).length?0:t.toString(2).slice(0,t.toString(2).length-e)),2)}catch(n){console.log(t,e,n)}},over127:function(t){return t>127?t-256:t}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={sMagicNum:Math.round(.5*Date.now()),sRandom:Math.random()*Date.now(),ALPHABET:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],randomString:function(t){for(var e=new Array,n=0;n<t;++n){var i=Math.floor(Math.random()*r.ALPHABET.length);e.push(r.ALPHABET[i])}return e.join("")},randomBytes:function(t){for(var e=new Array,n=0;n<t;++n){var r=Math.floor(128*Math.random());e.push(r)}return e},generateSerialNumber:function(){var t=Date.now();return t-=r.sMagicNum,t+=parseInt(r.sRandom)},simpleEncrypt:function(t,e){var n=null;if("string"==typeof t){n=[];for(var r=0;r<t.length;++r)n.push(t.charCodeAt(r)-256)}else n=t;var i=null;if("string"==typeof e){i=[];for(var r=0;r<e.length;++r)i.push(e.charCodeAt(r))}else i=e;if(8!=i.length)return null;var a=11+i[0];a-=i[1],a+=i[2],a-=i[3],a+=i[4],a-=i[5],a+=i[6],a-=i[7];for(var o=a%8,s=a%2==0?2:1,u=n.length,l=new Array,r=0;r<u;++r){var c=n[r]^s,f=c^o;f<0&&(f+=256),l[r]=f}return l},simpleDecrypt:function(t,e){var n=[];if("string"==typeof t){n=[];for(var r=0;r<t.length;++r)n.push(t.charCodeAt(r)-256)}else n=t;var i=[];if("string"==typeof e)for(var r=0;r<e.length;++r)i.push(e.charCodeAt(r)-256);else i=e;if(8!=i.length)return null;var a=11+i[0];a-=i[1],a+=i[2],a-=i[3],a+=i[4],a-=i[5],a+=i[6],a-=i[7];for(var o=a%8,s=a%2==0?2:1,u=n.length,l=new Array,r=0;r<u;++r){var c=n[r]^o,f=c^s;f<0&&(f+=256),l[r]=f}return l},chatCode:function(t){for(var e=[],n=0;n<=t.length;n++)"string"==typeof t[n]?e[n]=t[n].charCodeAt():e[n]=t[n];return e},fromCharCode:function(t){for(var e=[],n=0;n<=t.length;n++)t[n]<=32?e[n]=t[n]:e[n]=String.fromCharCode(t[n]);return e}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(2),a=n(0);n.d(e,"a",function(){return s});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function(){function t(e,n,i){r(this,t),this.payload=e,this.verifyCompression()}return o(t,[{key:"setPayload",value:function(t){this.payload=t}},{key:"setContext",value:function(t){this.context=t}},{key:"getPayload",value:function(){return this.payload}},{key:"getContext",value:function(){return this.context}},{key:"verifyCompression",value:function(){return 120==this.payload[0]&&-100==this.payload[1]?this.compressible=!0:this.compressible=!1,this.compressible}},{key:"needCompressible",value:function(){return this.payload.length>=t.CompressionThreshold}}],[{key:"pack",value:function(e,n){var r=null;return r=null!=n?i.a.simpleEncrypt(e,n):e,r.length>t.CompressionThreshold?t.compress(r):r}},{key:"unpack",value:function(e,n){var r=null;return null==(r=120==e[0]&&156==e[1]?t.uncompress(e):e)?null:null!=n?i.a.simpleDecrypt(r,n):r}},{key:"compress",value:function(t){return pako.deflate(t)}},{key:"uncompress",value:function(t){var e=null;try{e=pako.inflate(t)}catch(t){a.a.e("Message","Uncompress error: "+t)}return e}}]),t}();s.compressible=!1,s.DefaultHead=[32,19,9,8],s.DefaultTail=[25,120,16,4],s.CompressionThreshold=120},function(t,e,n){"use strict";var r=n(1),i=n(8),a=n(9);n.d(e,"a",function(){return o});var o={Handshake:["H","S"],Speak:["S","P"],SpeakAck:["S","A"],BatchSpeak:["B","S"],Heartbeat:["H","B"],HeartbeatAck:["H","A"],Goodbye:["G","B"],Version:1,Reserve:[17,36,17,36],SEPARATE_CHAR:30,ESCAPE_CHAR:92,sGlobalSN:0,recognize:function(t){if(t.length<10)return null;var e=r.a.toString(t[6]),n=r.a.toString(t[7]);return e==o.Speak[0]&&n==o.Speak[1]?o.Speak:e==o.SpeakAck[0]&&n==o.SpeakAck[1]?o.SpeakAck:e==o.BatchSpeak[0]&&n==o.BatchSpeak[1]?o.BatchSpeak:e==o.Heartbeat[0]&&n==o.Heartbeat[1]?o.Heartbeat:e==o.HeartbeatAck[0]&&n==o.HeartbeatAck[1]?o.HeartbeatAck:e==o.Handshake[0]&&n==o.Handshake[1]?o.Handshake:null},serializeHandshake:function(t,e){var n=new Array;return n.push(o.Version),n.push(o.consumeSN()),Array.prototype.push.apply(n,o.Reserve),Array.prototype.push.apply(n,r.a.toBytes(o.Handshake.join(""))),Array.prototype.push.apply(n,t),n.push(o.SEPARATE_CHAR),Array.prototype.push.apply(n,r.a.toBytes(e)),n},deserializeHandshake:function(t){for(var e={key:null,tag:null},n=new Array,i=0,a=8;a<t.length;++a){do{var s=t[a];if(s==o.SEPARATE_CHAR)break;n.push(r.a.toString(s)),++a}while(a<t.length);0==i?(e.key=new Array,Array.prototype.push.apply(e.key,n)):1==i&&(e.tag=n.join("")),n.splice(0,n.length),++i}return e},serializeSpeak:function(t,e){var n=new Array;n.push(o.Version),n.push(o.consumeSN()),Array.prototype.push.apply(n,e.getSN()),Array.prototype.push.apply(n,r.a.toBytes(o.Speak.join(""))),Array.prototype.push.apply(n,r.a.toBytes(t)),n.push(o.SEPARATE_CHAR);for(var i=0,a=e.stuffList;i<a.length;i++){Array.prototype.push.apply(n,r.a.toBytes(a[i].literal));for(var s=0,u=a[i].value;s<u.length;s++)u[s]==o.SEPARATE_CHAR?n.push(o.ESCAPE_CHAR):u[s]==o.ESCAPE_CHAR&&n.push(o.ESCAPE_CHAR),n.push(u[s]);n.push(o.SEPARATE_CHAR)}return n},deserializeSpeak:function(t){if(t.length<10)return null;for(var e=t.slice(2,6),n={target:null,primitive:null},s=new Array,u=8;u<t.length;++u){var l=t[u];if(l==o.SEPARATE_CHAR)break;s.push(r.a.toString(l))}n.target=s.join("");for(var c=8+s.length+1,f=new i.a(e),u=c;u<t.length;++u){var h=t[u],d=[];for(++u;u<t.length;){var p=t[u];if(p!=o.ESCAPE_CHAR){if(p==o.SEPARATE_CHAR)break;d.push(p),++u}else++u,p=t[u],d.push(p),++u}var v=new a.a(d,h);f.commit(v)}return n.primitive=f,n},serializeSpeakAck:function(t,e){var n=new Array;return n.push(o.Version),n.push(o.consumeSN()),Array.prototype.push.apply(n,e.getSN()),Array.prototype.push.apply(n,r.a.toBytes(o.SpeakAck.join(""))),Array.prototype.push.apply(n,r.a.toBytes(t)),n},deserializeSpeakAck:function(t){if(t.length<10)return null;for(var e=t.slice(2,6),n={target:null,primitive:null,sn:e},s=new Array,u=8;u<t.length;++u){var l=t[u];if(l==o.SEPARATE_CHAR)break;s.push(l)}n.target=r.a.toString(s);for(var c=8+s.length+1,f=new i.a(e),u=c;u<t.length;++u){var h=t[u],d=[];for(++u;u<t.length;){var p=t[u];if(p!=o.ESCAPE_CHAR){if(p==o.SEPARATE_CHAR)break;d.push(p),++u}else++u,p=t[u],d.push(p),++u}var v=new a.a(d,h);f.commit(v)}return n.primitive=f,n},serializeHeartbeat:function(t,e){var n=new Array;return n.push(o.Version),n.push(o.consumeSN()),Array.prototype.push.apply(n,o.Reserve),n.prototype.push.apply(n,r.a.toBytes(o.Heartbeat.join(""))),Array.prototype.push.apply(n,r.a.toBytes(t)),n.push(o.SEPARATE_CHAR),Array.prototype.push.apply(n,r.a.toBytes(e)),n},deserializeHeartbeat:function(t){for(var e={originateTimestamp:0,tag:null,receiveTimestamp:0,transmitTimestamp:0},n=0,i=8;i<t.length;++i){var a=new Array;do{var s=t[i];if(s==o.SEPARATE_CHAR)break;s==o.ESCAPE_CHAR&&(i+=1,s=t[i]),a.push(s),++i}while(i<t.length);0==n?e.tag=r.a.toString(a):1==n&&(e.originateTimestamp=r.a.toLong(a)),a.splice(0,a.length),++n}return e},serializeHeartbeatAck:function(t,e,n,i){var a=new Array;return a.push(o.Version),a.push(o.consumeSN()),Array.prototype.push.apply(a,o.Reserve),Array.prototype.push.apply(a,r.a.toBytes(o.HeartbeatAck.join(""))),Array.prototype.push.apply(a,r.a.toBytes(t)),a.push(o.SEPARATE_CHAR),Array.prototype.push.apply(a,o.escape(r.a.toBytes(e))),a.push(o.SEPARATE_CHAR),Array.prototype.push.apply(a,o.escape(r.a.toBytes(n))),a.push(o.SEPARATE_CHAR),Array.prototype.push.apply(a,o.escape(r.a.toBytes(i))),a},deserializeHeartbeatAck:function(t){for(var e={tag:null,originateTimestamp:0,receiveTimestamp:0,transmitTimestamp:0},n=0,i=8;i<t.length;++i){var a=new Array;do{var s=t[i];if(s==o.SEPARATE_CHAR)break;s==o.ESCAPE_CHAR&&(i+=1,s=t[i]),a.push(s),++i}while(i<t.length);if(0==n)e.tag=r.a.toString(a);else if(1==n){var u=a.slice(0,8);e.originateTimestamp=r.a.toLong(u)}else if(2==n){var l=a.slice(0,8);e.receiveTimestamp=r.a.toLong(l)}else if(3==n){var c=a.slice(0,8);e.transmitTimestamp=r.a.toLong(c)}a.splice(0,a.length),++n}return e},serializeGoodbye:function(){var t=new Array;return t.push(o.Version),t.push(o.consumeSN()),Array.prototype.push.apply(t,o.Reserve),Array.prototype.push.apply(t,r.a.toBytes(o.Goodbye.join(""))),t},consumeSN:function(){var t=o.sGlobalSN;return o.sGlobalSN+=1,o.sGlobalSN>127&&(o.sGlobalSN=0),t},escape:function(t){for(var e=0,n=0;n<t.length;++n)++e,t[n]!=o.SEPARATE_CHAR&&t[n]!=o.ESCAPE_CHAR||++e;if(e==t.length)return t;for(var r=new Array(e),n=0,i=0;n<t.length;++n,++i){var a=t[n];a==o.SEPARATE_CHAR?(r[i]=o.ESCAPE_CHAR,++i):a==o.ESCAPE_CHAR&&(r[i]=o.ESCAPE_CHAR,++i),r[i]=a}return r}}},function(t,e,n){"use strict";function r(){var t=0,e=new Object;this.isEmpty=function(){return 0==t},this.containsKey=function(t){return t in e},this.containsValue=function(t){for(var n in e)if(e[n]==t)return!0;return!1},this.put=function(n,r){this.containsKey(n)||t++,e[n]=r},this.get=function(t){return this.containsKey(t)?e[t]:null},this.remove=function(n){this.containsKey(n)&&delete e[n]&&t--},this.values=function(){var t=new Array;for(var n in e)t.push(e[n]);return t},this.keySet=function(){var t=new Array;for(var n in e)t.push(n);return t},this.size=function(){return t},this.clear=function(){t=0,e=new Object}}e.a=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(10);n.d(e,"a",function(){return o});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;r(this,t),this.errorCode=e,this.description="Network connecting timeout"}return a(t,[{key:"getErrorCode",value:function(){return this.errorCode}},{key:"setTalkContext",value:function(t){this.talkContext=t}},{key:"getDescription",value:function(){return this.description}}],[{key:"transformError",value:function(e){var n=new t(1e3);switch(e){case i.a.CONNECT_FAILED:case i.a.CONNECT_TIMEOUT:n.errorCode=t.NetworkLinkError;break;case i.a.SOCKET_FAILED:case i.a.BIND_FAILED:case i.a.ACCEPT_FAILED:n.errorCode=t.NetworkLinkError;break;case i.a.WRITE_TIMEOUT:case i.a.READ_TIMEOUT:case i.a.WRITE_FAILED:case i.a.READ_FAILED:case i.a.WRITE_OUTOFBOUNDS:n.errorCode=t.NetworkLinkError;break;default:n.description="Unknown"}return n}}]),t}();o.NetworkError=1e3,o.NetworkLinkError=1010,o.NetworkSocketError=1020,o.NetworkIOError=1030,o.HandshakeError=2e3,o.HandshakeTimeout=2001,o.NOTFOUND_CELLET=100,o.CALL_FAILED=200,o.TALK_LOST=300,o.UNKNOWN=900},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(8),s=n(9);n.d(e,"a",function(){return l});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t){function e(t,n){r(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return a.stuffList.push(new s.a(t)),a}return a(e,t),u(e,[{key:"setName",value:function(t){this.stuffList[0]=new s.a(t)}},{key:"getName",value:function(){return this.stuffList[0].getValueAsString()}},{key:"containsParam",value:function(t){for(var e=1,n=this.stuffList.length;e<n;e+=2){if(this.stuffList[e].getValueAsString()==t)return!0}return!1}},{key:"addParam",value:function(t,e){var n=this.keyIndex(t);n>0?this.stuffList[n+1]=new s.a(e):(this.stuffList.push(new s.a(t)),this.stuffList.push(new s.a(e)))}},{key:"getParam",value:function(t){return this._getParam(t,"getValue")}},{key:"getParamAsString",value:function(t){return this._getParam(t,"getValueAsString")}},{key:"getParamAsInt",value:function(t){return this._getParam(t,"getValueAsInt")}},{key:"getParamAsLong",value:function(t){return this._getParam(t,"getValueAsLong")}},{key:"getParamAsBool",value:function(t){return this._getParam(t,"getValueAsBool")}},{key:"getParamAsDouble",value:function(t){return this._getParam(t,"getValueAsInt")}},{key:"getParamAsJson",value:function(t){return this._getParam(t,"getValueAsJson")}},{key:"_getParam",value:function(t,e){for(var n=1,r=this.stuffList.length;n<r;n+=2){if(this.stuffList[n].getValueAsString()==t)return this.stuffList[n+1][e]()}return null}},{key:"keyIndex",value:function(t){for(var e=1,n=this.stuffList.length;e<n;e+=2)if(t===this.stuffList[e])return e;return-1}},{key:"translate",value:function(){if(null==this.getName())return null;var t=new o.a(this.sn);return t.stuffList=this.stuffList,t}},{key:"build",value:function(t){this.action=t.predicates()[0].getValueAsString();var e=t.subjects();if(null!=e)for(var n=e,r=t.objectives(),i=0;i<n.length;i++)this.stuffList.put(n[i].getValueAsString(),r[i].getValue())}},{key:"act",value:function(t){var e=this,n=setTimeout(function(){clearTimeout(n),t.call(null,e)},0)}}]),e}(o.a);l.DIALECT_NAME="ActionDialect"},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(2);n.d(e,"a",function(){return o});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e,n){r(this,t),this.timestamp=Date.now(),this.sn=e||i.a.randomBytes(4),this.stuffList=[],n&&(this.sn=n.sn,this.stuffList=n.stuffList)}return a(t,[{key:"getSN",value:function(){return this.sn}},{key:"commit",value:function(t){return this.stuffList.push(t),this.stuffList.length-1}},{key:"setStuff",value:function(t,e){this.stuffList[t]=e}},{key:"getStuff",value:function(t){return this.stuffList[t]}},{key:"removeStuff",value:function(t){return this.stuffList.splice(t,1),this.stuffList}},{key:"numStuff",value:function(){return this.stuffList.length}},{key:"equals",value:function(e){if(null==e||!(e instanceof t))return!1;var n=t.toJSON();if(n.stuffList.length!=this.stuffList.length)return!1;for(var r=0,i=n.stuffList.length;r<i;++r){if(!n.stuffList[r].equals(this.stuffList[r]))return!1}return!0}},{key:"clone",value:function(){var e=new t(this.sn);e.timestamp=this.timestamp;for(var n=0;n<=this.stuffList.length;n++)switch(this.stuffList[n].literal){case LiteralBase.STRING:e.commit(new Stuff(stuff.getValueAsString()));break;case LiteralBase.INT:e.commit(new Stuff(stuff.getValueAsInt()));break;case LiteralBase.LONG:e.commit(new Stuff(stuff.getValueAsLong()));break;case LiteralBase.FLOAT:e.commit(new Stuff(stuff.getValueAsFloat()));break;case LiteralBase.DOUBLE:e.commit(new Stuff(stuff.getValueAsDouble()));break;case LiteralBase.BOOL:e.commit(new Stuff(stuff.getValueAsBool()));break;case LiteralBase.JSON:e.commit(new Stuff(stuff.getValueAsJson()));break;case LiteralBase.BIN:default:e.commit(new Stuff(stuff.getValue()))}return e}},{key:"equalsSN",value:function(t){if(t.length!=this.sn.length)return!1;for(var e=0;e<t.length;++e)if(t[e]!=this.sn[e])return!1;return!0}},{key:"isStuffList",value:function(){return null!=this.stuffList}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(34),a=n(1);n.d(e,"a",function(){return u});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(e,n,s,u){if(r(this,t),this.value=null,void 0!==n&&null!==n)return void 0!==e&&(this.value=e),void(this.literal=i.a.parseLiteralBase(n));if(void 0!==e&&(this.value=a.a.toBytes(e),void 0===n)){var l=void 0===e?"undefined":o(e);if("string"==l)this.literal=i.a.STRING;else if("number"==l){var c=/^-?\d+$/,f=/^[-\+]?\d+(\.\d+)?$/;c.test(e.toString())?this.literal=e>-2147483648&&e<2147483648?i.a.INT:i.a.LONG:f.test(e.toString())?this.literal=i.a.DOUBLE:this.literal=i.a.FLOAT}else"boolean"==l?this.literal=i.a.BOOL:"object"==l&&(this.literal=i.a.JSON)}}return s(t,[{key:"getLiteralBase",value:function(){return this.literalBase}},{key:"getValue",value:function(){return this.value}},{key:"getValueAsString",value:function(){return"string"==typeof this.value?this.value:this.toJSON(a.a.toString(this.value))}},{key:"getValueAsInt",value:function(){return"number"==typeof this.value?this.value:Number(this.value)}},{key:"getValueAsLong",value:function(){}},{key:"getValueAsFloat",value:function(){return parseFloat(this.value)}},{key:"getValueAsDouble",value:function(){}},{key:"getValueAsBool",value:function(){return Boolean(this.value)}},{key:"getValueAsJson",value:function(){try{return"string"==typeof this.value?this.value:a.a.toString(this.value)}catch(t){Logger.e("stuff","JSON format error",t)}return null}},{key:"equals",value:function(e){if(null==e||!(e instanceof t))return!1;var n=e.toJSON();if(n.literal!=this.literal||n.value.length!=this.value.length)return!1;for(var r=0,i=n.value.length;r<i;++r)if(n.value[r]!=this.value[r])return!1;return!0}},{key:"clone",value:function(t){}},{key:"setValue",value:function(t){this.value=t}},{key:"setLiteralBase",value:function(t){this.literalBase=t}},{key:"toBytes",value:function(){if(void 0!==this.value)return a.a.toBytes(this.value)}},{key:"toStuff",value:function(){}},{key:"toJSON",value:function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t}}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={UNKNOWN:100,ADDRESS_INVALID:101,STATE_ERROR:102,SOCKET_FAILED:200,BIND_FAILED:201,LISTEN_FAILED:202,ACCEPT_FAILED:203,CONNECT_FAILED:300,CONNECT_TIMEOUT:301,WRITE_TIMEOUT:401,READ_TIMEOUT:402,WRITE_FAILED:403,READ_FAILED:404,WRITE_OUTOFBOUNDS:405}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={Disconnected:1,Connecting:2,Connected:3,Disconnecting:4}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e,n){r(this,t),this.timer=0,this.runnable=e,this.scope=void 0===n?null:n}return i(t,[{key:"start",value:function(){var t=this;this.timer=setTimeout(function(e){t.runnable.call(t.scope),clearTimeout(t.timer),t.timer=0},0)}},{key:"sleep",value:function(t){var e=this;setTimeout(function(){for(var n=(new Date).getTime();(new Date).getTime()-n<t;)e.runnable.call(e.scope),clearTimeout(e.timer),e.timer=0},0)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={v4:function(){var t,e="0123456789abcdef".split(""),n=[],r=Math.random;n[8]=n[13]=n[18]=n[23]="-",n[14]="4";for(var i=0;i<36;i++)n[i]||(t=0|16*r(),n[i]=e[19==i?3&t|8:15&t]);return n.join("")},fromString:function(){}}},function(t,e,n){var r,i,a,o,o,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){"object"==s(e)&&void 0!==t?t.exports=n():(i=[],r=n,void 0!==(a="function"==typeof r?r.apply(e,i):r)&&(t.exports=a))}(function(){return function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var l="function"==typeof o&&o;if(!u&&l)return o(s,!0);if(a)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){return i(e[s][1][t]||t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof o&&o,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=o.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==f)throw new Error(u[n]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=a.deflateSetDictionary(this.strm,i))!==f)throw new Error(u[n]);this._dict_set=!0}}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||u[n.err];return n.result}var a=t("./zlib/deflate"),o=t("./utils/common"),s=t("./utils/strings"),u=t("./zlib/messages"),l=t("./zlib/zstream"),c=Object.prototype.toString,f=0,h=-1,d=0,p=8;r.prototype.push=function(t,e){var n,r,i=this.strm,u=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=s.string2buf(t):"[object ArrayBuffer]"===c.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new o.Buf8(u),i.next_out=0,i.avail_out=u),1!==(n=a.deflate(i,r))&&n!==f)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(s.buf2binstring(o.shrinkBuf(i.output,i.next_out))):this.onData(o.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):2!==r||(this.onEnd(f),i.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=r,n.deflate=i,n.deflateRaw=function(t,e){return e=e||{},e.raw=!0,i(t,e)},n.gzip=function(t,e){return e=e||{},e.gzip=!0,i(t,e)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=a.inflateInit2(this.strm,e.windowBits);if(n!==u.Z_OK)throw new Error(l[n]);this.header=new f,a.inflateGetHeader(this.strm,this.header)}function i(t,e){var n=new r(e);if(n.push(t,!0),n.err)throw n.msg||l[n.err];return n.result}var a=t("./zlib/inflate"),o=t("./utils/common"),s=t("./utils/strings"),u=t("./zlib/constants"),l=t("./zlib/messages"),c=t("./zlib/zstream"),f=t("./zlib/gzheader"),h=Object.prototype.toString;r.prototype.push=function(t,e){var n,r,i,l,c,f,d=this.strm,p=this.options.chunkSize,v=this.options.dictionary,g=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof t?d.input=s.binstring2buf(t):"[object ArrayBuffer]"===h.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new o.Buf8(p),d.next_out=0,d.avail_out=p),(n=a.inflate(d,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&v&&(f="string"==typeof v?s.string2buf(v):"[object ArrayBuffer]"===h.call(v)?new Uint8Array(v):v,n=a.inflateSetDictionary(this.strm,f)),n===u.Z_BUF_ERROR&&!0===g&&(n=u.Z_OK,g=!1),n!==u.Z_STREAM_END&&n!==u.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==u.Z_STREAM_END&&(0!==d.avail_in||r!==u.Z_FINISH&&r!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(i=s.utf8border(d.output,d.next_out),l=d.next_out-i,c=s.buf2string(d.output,i),d.next_out=l,d.avail_out=p-l,l&&o.arraySet(d.output,d.output,i,l,0),this.onData(c)):this.onData(o.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==u.Z_STREAM_END);return n===u.Z_STREAM_END&&(r=u.Z_FINISH),r===u.Z_FINISH?(n=a.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u.Z_OK):r!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),d.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=r,n.inflate=i,n.inflateRaw=function(t,e){return e=e||{},e.raw=!0,i(t,e)},n.ungzip=i},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=(void 0===n?"undefined":s(n)))throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var a={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){var e,n,r,i,a,o;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(o=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)a=t[e],o.set(a,i),i+=a.length;return o}},o={arraySet:function(t,e,n,r,i){for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],4:[function(t,e,n){"use strict";function r(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&a))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}var i=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var s=new i.Buf8(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1,n.string2buf=function(t){var e,n,r,a,o,s=t.length,u=0;for(a=0;a<s;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(u),o=0,a=0;o<u;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},n.buf2binstring=function(t){return r(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,a,o,u=e||t.length,l=new Array(2*u);for(i=0,n=0;n<u;)if((a=t[n++])<128)l[i++]=a;else if((o=s[a])>4)l[i++]=65533,n+=o-1;else{for(a&=2===o?31:3===o?15:7;o>1&&n<u;)a=a<<6|63&t[n++],o--;o>1?l[i++]=65533:a<65536?l[i++]=a:(a-=65536,l[i++]=55296|a>>10&1023,l[i++]=56320|1023&a)}return r(l,i)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},{"./common":3}],5:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+e[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},{}],6:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,i){var a=r,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},{}],8:[function(t,e,n){"use strict";function r(t,e){return t.msg=R[e],e}function i(t){return(t<<1)-(t>4?9:0)}function a(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(A.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){T._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,o(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function l(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function c(t,e,n,r){var i=t.avail_in;return i>r&&(i=r),0===i?0:(t.avail_in-=i,A.arraySet(e,t.input,t.next_in,i,n),1===t.state.wrap?t.adler=E(t.adler,e,i,n):2===t.state.wrap&&(t.adler=C(t.adler,e,i,n)),t.next_in+=i,t.total_in+=i,i)}function f(t,e){var n,r,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-V?t.strstart-(t.w_size-V):0,l=t.window,c=t.w_mask,f=t.prev,h=t.strstart+K,d=l[a+o-1],p=l[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(n=e,l[n+o]===p&&l[n+o-1]===d&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do{}while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<h);if(r=K-(h-a),a=h-K,r>o){if(t.match_start=e,o=r,r>=s)break;d=l[a+o-1],p=l[a+o]}}}while((e=f[e&c])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead}function h(t){var e,n,r,i,a,o=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-V)){A.arraySet(t.window,t.window,o,o,0),t.match_start-=o,t.strstart-=o,t.block_start-=o,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=o?r-o:0}while(--n);e=n=o;do{r=t.prev[--e],t.prev[e]=r>=o?r-o:0}while(--n);i+=o}if(0===t.strm.avail_in)break;if(n=c(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=Z)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+Z-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<Z)););}while(t.lookahead<V&&0!==t.strm.avail_in)}function d(t,e){for(var n,r;;){if(t.lookahead<V){if(h(t),t.lookahead<V&&e===x)return Q;if(0===t.lookahead)break}if(n=0,t.lookahead>=Z&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Z-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-V&&(t.match_length=f(t,n)),t.match_length>=Z)if(r=T._tr_tally(t,t.strstart-t.match_start,t.match_length-Z),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Z){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Z-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=T._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(s(t,!1),0===t.strm.avail_out))return Q}return t.insert=t.strstart<Z-1?t.strstart:Z-1,e===O?(s(t,!0),0===t.strm.avail_out?J:X):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?Q:q}function p(t,e){for(var n,r,i;;){if(t.lookahead<V){if(h(t),t.lookahead<V&&e===x)return Q;if(0===t.lookahead)break}if(n=0,t.lookahead>=Z&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Z-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Z-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-V&&(t.match_length=f(t,n),t.match_length<=5&&(t.strategy===D||t.match_length===Z&&t.strstart-t.match_start>4096)&&(t.match_length=Z-1)),t.prev_length>=Z&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Z,r=T._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-Z),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+Z-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=Z-1,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return Q}else if(t.match_available){if((r=T._tr_tally(t,0,t.window[t.strstart-1]))&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Q}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=T._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Z-1?t.strstart:Z-1,e===O?(s(t,!0),0===t.strm.avail_out?J:X):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?Q:q}function v(t,e){for(var n,r,i,a,o=t.window;;){if(t.lookahead<=K){if(h(t),t.lookahead<=K&&e===x)return Q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=Z&&t.strstart>0&&(i=t.strstart-1,(r=o[i])===o[++i]&&r===o[++i]&&r===o[++i])){a=t.strstart+K;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);t.match_length=K-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Z?(n=T._tr_tally(t,1,t.match_length-Z),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=T._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,e===O?(s(t,!0),0===t.strm.avail_out?J:X):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?Q:q}function g(t,e){for(var n;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===x)return Q;break}if(t.match_length=0,n=T._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,e===O?(s(t,!0),0===t.strm.avail_out?J:X):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?Q:q}function y(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function _(t){t.window_size=2*t.w_size,a(t.head),t.max_lazy_match=S[t.level].max_lazy,t.good_match=S[t.level].good_length,t.nice_match=S[t.level].nice_length,t.max_chain_length=S[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Z-1,t.match_available=0,t.ins_h=0}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*F),this.dyn_dtree=new A.Buf16(2*(2*j+1)),this.bl_tree=new A.Buf16(2*(2*M+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(Y+1),this.heap=new A.Buf16(2*U+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*U+1),a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function b(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=I,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?W:G,t.adler=2===e.wrap?0:1,e.last_flush=x,T._tr_init(e),B):r(t,L)}function w(t){var e=b(t);return e===B&&_(t.state),e}function k(t,e,n,i,a,o){if(!t)return L;var s=1;if(e===P&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>H||n!==N||i<8||i>15||e<0||e>9||o<0||o>z)return r(t,L);8===i&&(i=9);var u=new m;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+Z-1)/Z),u.window=new A.Buf8(2*u.w_size),u.head=new A.Buf16(u.hash_size),u.prev=new A.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new A.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=o,u.method=n,w(t)}var S,A=t("../utils/common"),T=t("./trees"),E=t("./adler32"),C=t("./crc32"),R=t("./messages"),x=0,O=4,B=0,L=-2,P=-1,D=1,z=4,I=2,N=8,H=9,U=286,j=30,M=19,F=2*U+1,Y=15,Z=3,K=258,V=K+Z+1,W=42,G=113,Q=1,q=2,J=3,X=4;S=[new y(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===x)return Q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,s(t,!1),0===t.strm.avail_out))return Q;if(t.strstart-t.block_start>=t.w_size-V&&(s(t,!1),0===t.strm.avail_out))return Q}return t.insert=0,e===O?(s(t,!0),0===t.strm.avail_out?J:X):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),Q)}),new y(4,4,8,4,d),new y(4,5,16,8,d),new y(4,6,32,32,d),new y(4,4,16,16,p),new y(8,16,32,32,p),new y(8,16,128,128,p),new y(8,32,128,256,p),new y(32,128,258,1024,p),new y(32,258,258,4096,p)],n.deflateInit=function(t,e){return k(t,e,N,15,8,0)},n.deflateInit2=k,n.deflateReset=w,n.deflateResetKeep=b,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?L:(t.state.gzhead=e,B):L},n.deflate=function(t,e){var n,s,c,f;if(!t||!t.state||e>5||e<0)return t?r(t,L):L;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||666===s.status&&e!==O)return r(t,0===t.avail_out?-5:L);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===W)if(2===s.wrap)t.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=C(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),u(s,3),s.status=G);else{var h=N+(s.w_bits-8<<4)<<8;h|=(s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(h|=32),h+=31-h%31,s.status=G,l(s,h),0!==s.strstart&&(l(s,t.adler>>>16),l(s,65535&t.adler)),t.adler=1}if(69===s.status)if(s.gzhead.extra){for(c=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>c&&(t.adler=C(t.adler,s.pending_buf,s.pending-c,c)),o(t),c=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>c&&(t.adler=C(t.adler,s.pending_buf,s.pending-c,c)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=C(t.adler,s.pending_buf,s.pending-c,c)),o(t),c=s.pending,s.pending===s.pending_buf_size)){f=1;break}f=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,f)}while(0!==f);s.gzhead.hcrc&&s.pending>c&&(t.adler=C(t.adler,s.pending_buf,s.pending-c,c)),0===f&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){c=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>c&&(t.adler=C(t.adler,s.pending_buf,s.pending-c,c)),o(t),c=s.pending,s.pending===s.pending_buf_size)){f=1;break}f=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,f)}while(0!==f);s.gzhead.hcrc&&s.pending>c&&(t.adler=C(t.adler,s.pending_buf,s.pending-c,c)),0===f&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&o(t),s.pending+2<=s.pending_buf_size&&(u(s,255&t.adler),u(s,t.adler>>8&255),t.adler=0,s.status=G)):s.status=G),0!==s.pending){if(o(t),0===t.avail_out)return s.last_flush=-1,B}else if(0===t.avail_in&&i(e)<=i(n)&&e!==O)return r(t,-5);if(666===s.status&&0!==t.avail_in)return r(t,-5);if(0!==t.avail_in||0!==s.lookahead||e!==x&&666!==s.status){var d=2===s.strategy?g(s,e):3===s.strategy?v(s,e):S[s.level].func(s,e);if(d!==J&&d!==X||(s.status=666),d===Q||d===J)return 0===t.avail_out&&(s.last_flush=-1),B;if(d===q&&(1===e?T._tr_align(s):5!==e&&(T._tr_stored_block(s,0,0,!1),3===e&&(a(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),o(t),0===t.avail_out))return s.last_flush=-1,B}return e!==O?B:s.wrap<=0?1:(2===s.wrap?(u(s,255&t.adler),u(s,t.adler>>8&255),u(s,t.adler>>16&255),u(s,t.adler>>24&255),u(s,255&t.total_in),u(s,t.total_in>>8&255),u(s,t.total_in>>16&255),u(s,t.total_in>>24&255)):(l(s,t.adler>>>16),l(s,65535&t.adler)),o(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?B:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==W&&69!==e&&73!==e&&91!==e&&103!==e&&e!==G&&666!==e?r(t,L):(t.state=null,e===G?r(t,-3):B):L},n.deflateSetDictionary=function(t,e){var n,r,i,o,s,u,l,c,f=e.length;if(!t||!t.state)return L;if(n=t.state,2===(o=n.wrap)||1===o&&n.status!==W||n.lookahead)return L;for(1===o&&(t.adler=E(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===o&&(a(n.head),n.strstart=0,n.block_start=0,n.insert=0),c=new A.Buf8(n.w_size),A.arraySet(c,e,f-n.w_size,n.w_size,0),e=c,f=n.w_size),s=t.avail_in,u=t.next_in,l=t.input,t.avail_in=f,t.next_in=0,t.input=e,h(n);n.lookahead>=Z;){r=n.strstart,i=n.lookahead-(Z-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+Z-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=Z-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Z-1,n.match_available=0,t.next_in=u,t.input=l,t.avail_in=s,n.wrap=o,B},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],10:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,a,o,s,u,l,c,f,h,d,p,v,g,y,_,m,b,w,k,S,A,T,E;n=t.state,r=t.next_in,T=t.input,i=r+(t.avail_in-5),a=t.next_out,E=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),u=n.dmax,l=n.wsize,c=n.whave,f=n.wnext,h=n.window,d=n.hold,p=n.bits,v=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;t:do{p<15&&(d+=T[r++]<<p,p+=8,d+=T[r++]<<p,p+=8),m=v[d&y];e:for(;;){if(b=m>>>24,d>>>=b,p-=b,0==(b=m>>>16&255))E[a++]=65535&m;else{if(!(16&b)){if(0==(64&b)){m=v[(65535&m)+(d&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&m,(b&=15)&&(p<b&&(d+=T[r++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=T[r++]<<p,p+=8,d+=T[r++]<<p,p+=8),m=g[d&_];n:for(;;){if(b=m>>>24,d>>>=b,p-=b,!(16&(b=m>>>16&255))){if(0==(64&b)){m=g[(65535&m)+(d&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(k=65535&m,b&=15,p<b&&(d+=T[r++]<<p,(p+=8)<b&&(d+=T[r++]<<p,p+=8)),(k+=d&(1<<b)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=b,p-=b,b=a-o,k>b){if((b=k-b)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=0,A=h,0===f){if(S+=l-b,b<w){w-=b;do{E[a++]=h[S++]}while(--b);S=a-k,A=E}}else if(f<b){if(S+=l+f-b,(b-=f)<w){w-=b;do{E[a++]=h[S++]}while(--b);if(S=0,f<w){w-=b=f;do{E[a++]=h[S++]}while(--b);S=a-k,A=E}}}else if(S+=f-b,b<w){w-=b;do{E[a++]=h[S++]}while(--b);S=a-k,A=E}for(;w>2;)E[a++]=A[S++],E[a++]=A[S++],E[a++]=A[S++],w-=3;w&&(E[a++]=A[S++],w>1&&(E[a++]=A[S++]))}else{S=a-k;do{E[a++]=E[S++],E[a++]=E[S++],E[a++]=E[S++],w-=3}while(w>2);w&&(E[a++]=E[S++],w>1&&(E[a++]=E[S++]))}break}}break}}while(r<i&&a<s);r-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=a<s?s-a+257:257-(a-s),n.hold=d,n.bits=p}},{}],11:[function(t,e,n){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=k,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new d.Buf32(A),e.distcode=e.distdyn=new d.Buf32(T),e.sane=1,e.back=-1,b):w}function o(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,a(t)):w}function s(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?w:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,o(t))):w}function u(t,e){var n,r;return t?(r=new i,t.state=r,r.window=null,(n=s(t,e))!==b&&(t.state=null),n):w}function l(t){if(E){var e;for(f=new d.Buf32(512),h=new d.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(y(_,t.lens,0,288,f,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;y(m,t.lens,0,32,h,0,t.work,{bits:5}),E=!1}t.lencode=f,t.lenbits=9,t.distcode=h,t.distbits=5}function c(t,e,n,r){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new d.Buf8(a.wsize)),r>=a.wsize?(d.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((i=a.wsize-a.wnext)>r&&(i=r),d.arraySet(a.window,e,n-r,i,a.wnext),(r-=i)?(d.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}var f,h,d=t("../utils/common"),p=t("./adler32"),v=t("./crc32"),g=t("./inffast"),y=t("./inftrees"),_=1,m=2,b=0,w=-2,k=1,S=12,A=852,T=592,E=!0;n.inflateReset=o,n.inflateReset2=s,n.inflateResetKeep=a,n.inflateInit=function(t){return u(t,15)},n.inflateInit2=u,n.inflate=function(t,e){var n,i,a,o,s,u,f,h,A,T,E,C,R,x,O,B,L,P,D,z,I,N,H,U,j=0,M=new d.Buf8(4),F=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return w;(n=t.state).mode===S&&(n.mode=13),s=t.next_out,a=t.output,f=t.avail_out,o=t.next_in,i=t.input,u=t.avail_in,h=n.hold,A=n.bits,T=u,E=f,N=b;t:for(;;)switch(n.mode){case k:if(0===n.wrap){n.mode=13;break}for(;A<16;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}if(2&n.wrap&&35615===h){n.check=0,M[0]=255&h,M[1]=h>>>8&255,n.check=v(n.check,M,2,0),h=0,A=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&h)){t.msg="unknown compression method",n.mode=30;break}if(h>>>=4,A-=4,I=8+(15&h),0===n.wbits)n.wbits=I;else if(I>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<I,t.adler=n.check=1,n.mode=512&h?10:S,h=0,A=0;break;case 2:for(;A<16;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}if(n.flags=h,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(M[0]=255&h,M[1]=h>>>8&255,n.check=v(n.check,M,2,0)),h=0,A=0,n.mode=3;case 3:for(;A<32;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}n.head&&(n.head.time=h),512&n.flags&&(M[0]=255&h,M[1]=h>>>8&255,M[2]=h>>>16&255,M[3]=h>>>24&255,n.check=v(n.check,M,4,0)),h=0,A=0,n.mode=4;case 4:for(;A<16;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(M[0]=255&h,M[1]=h>>>8&255,n.check=v(n.check,M,2,0)),h=0,A=0,n.mode=5;case 5:if(1024&n.flags){for(;A<16;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(M[0]=255&h,M[1]=h>>>8&255,n.check=v(n.check,M,2,0)),h=0,A=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((C=n.length)>u&&(C=u),C&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),d.arraySet(n.head.extra,i,o,C,I)),512&n.flags&&(n.check=v(n.check,i,C,o)),u-=C,o+=C,n.length-=C),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===u)break t;C=0;do{I=i[o+C++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I))}while(I&&C<u);if(512&n.flags&&(n.check=v(n.check,i,C,o)),u-=C,o+=C,I)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===u)break t;C=0;do{I=i[o+C++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I))}while(I&&C<u);if(512&n.flags&&(n.check=v(n.check,i,C,o)),u-=C,o+=C,I)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;A<16;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}if(h!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}h=0,A=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=S;break;case 10:for(;A<32;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}t.adler=n.check=r(h),h=0,A=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=s,t.avail_out=f,t.next_in=o,t.avail_in=u,n.hold=h,n.bits=A,2;t.adler=n.check=1,n.mode=S;case S:if(5===e||6===e)break t;case 13:if(n.last){h>>>=7&A,A-=7&A,n.mode=27;break}for(;A<3;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}switch(n.last=1&h,h>>>=1,A-=1,3&h){case 0:n.mode=14;break;case 1:if(l(n),n.mode=20,6===e){h>>>=2,A-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}h>>>=2,A-=2;break;case 14:for(h>>>=7&A,A-=7&A;A<32;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&h,h=0,A=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(C=n.length){if(C>u&&(C=u),C>f&&(C=f),0===C)break t;d.arraySet(a,i,o,C,s),u-=C,o+=C,f-=C,s+=C,n.length-=C;break}n.mode=S;break;case 17:for(;A<14;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}if(n.nlen=257+(31&h),h>>>=5,A-=5,n.ndist=1+(31&h),h>>>=5,A-=5,n.ncode=4+(15&h),h>>>=4,A-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;A<3;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}n.lens[F[n.have++]]=7&h,h>>>=3,A-=3}for(;n.have<19;)n.lens[F[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,H={bits:n.lenbits},N=y(0,n.lens,0,19,n.lencode,0,n.work,H),n.lenbits=H.bits,N){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;j=n.lencode[h&(1<<n.lenbits)-1],O=j>>>24,B=j>>>16&255,L=65535&j,!(O<=A);){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}if(L<16)h>>>=O,A-=O,n.lens[n.have++]=L;else{if(16===L){for(U=O+2;A<U;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}if(h>>>=O,A-=O,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}I=n.lens[n.have-1],C=3+(3&h),h>>>=2,A-=2}else if(17===L){for(U=O+3;A<U;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}A-=O,I=0,C=3+(7&(h>>>=O)),h>>>=3,A-=3}else{for(U=O+7;A<U;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}A-=O,I=0,C=11+(127&(h>>>=O)),h>>>=7,A-=7}if(n.have+C>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;C--;)n.lens[n.have++]=I}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,H={bits:n.lenbits},N=y(_,n.lens,0,n.nlen,n.lencode,0,n.work,H),n.lenbits=H.bits,N){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,H={bits:n.distbits},N=y(m,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,H),n.distbits=H.bits,N){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(u>=6&&f>=258){t.next_out=s,t.avail_out=f,t.next_in=o,t.avail_in=u,n.hold=h,n.bits=A,g(t,E),s=t.next_out,a=t.output,f=t.avail_out,o=t.next_in,i=t.input,u=t.avail_in,h=n.hold,A=n.bits,n.mode===S&&(n.back=-1);break}for(n.back=0;j=n.lencode[h&(1<<n.lenbits)-1],O=j>>>24,B=j>>>16&255,L=65535&j,!(O<=A);){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}if(B&&0==(240&B)){for(P=O,D=B,z=L;j=n.lencode[z+((h&(1<<P+D)-1)>>P)],O=j>>>24,B=j>>>16&255,L=65535&j,!(P+O<=A);){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}h>>>=P,A-=P,n.back+=P}if(h>>>=O,A-=O,n.back+=O,n.length=L,0===B){n.mode=26;break}if(32&B){n.back=-1,n.mode=S;break}if(64&B){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&B,n.mode=22;case 22:if(n.extra){for(U=n.extra;A<U;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,A-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;j=n.distcode[h&(1<<n.distbits)-1],O=j>>>24,B=j>>>16&255,L=65535&j,!(O<=A);){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}if(0==(240&B)){for(P=O,D=B,z=L;j=n.distcode[z+((h&(1<<P+D)-1)>>P)],O=j>>>24,B=j>>>16&255,L=65535&j,!(P+O<=A);){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}h>>>=P,A-=P,n.back+=P}if(h>>>=O,A-=O,n.back+=O,64&B){t.msg="invalid distance code",n.mode=30;break}n.offset=L,n.extra=15&B,n.mode=24;case 24:if(n.extra){for(U=n.extra;A<U;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,A-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===f)break t;if(C=E-f,n.offset>C){if((C=n.offset-C)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}C>n.wnext?(C-=n.wnext,R=n.wsize-C):R=n.wnext-C,C>n.length&&(C=n.length),x=n.window}else x=a,R=s-n.offset,C=n.length;C>f&&(C=f),f-=C,n.length-=C;do{a[s++]=x[R++]}while(--C);0===n.length&&(n.mode=21);break;case 26:if(0===f)break t;a[s++]=n.length,f--,n.mode=21;break;case 27:if(n.wrap){for(;A<32;){if(0===u)break t;u--,h|=i[o++]<<A,A+=8}if(E-=f,t.total_out+=E,n.total+=E,E&&(t.adler=n.check=n.flags?v(n.check,a,E,s-E):p(n.check,a,E,s-E)),E=f,(n.flags?h:r(h))!==n.check){t.msg="incorrect data check",n.mode=30;break}h=0,A=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;A<32;){if(0===u)break t;u--,h+=i[o++]<<A,A+=8}if(h!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}h=0,A=0}n.mode=29;case 29:N=1;break t;case 30:N=-3;break t;case 31:return-4;case 32:default:return w}return t.next_out=s,t.avail_out=f,t.next_in=o,t.avail_in=u,n.hold=h,n.bits=A,(n.wsize||E!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&c(t,t.output,t.next_out,E-t.avail_out)?(n.mode=31,-4):(T-=t.avail_in,E-=t.avail_out,t.total_in+=T,t.total_out+=E,n.total+=E,n.wrap&&E&&(t.adler=n.check=n.flags?v(n.check,a,E,t.next_out-E):p(n.check,a,E,t.next_out-E)),t.data_type=n.bits+(n.last?64:0)+(n.mode===S?128:0)+(20===n.mode||15===n.mode?256:0),(0===T&&0===E||4===e)&&N===b&&(N=-5),N)},n.inflateEnd=function(t){if(!t||!t.state)return w;var e=t.state;return e.window&&(e.window=null),t.state=null,b},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?w:(n.head=e,e.done=!1,b):w},n.inflateSetDictionary=function(t,e){var n,r,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?w:11===n.mode&&(r=1,(r=p(r,e,i,0))!==n.check)?-3:c(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,b):w},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(t,e,n){"use strict";var r=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,u,l,c,f,h){var d,p,v,g,y,_,m,b,w,k=h.bits,S=0,A=0,T=0,E=0,C=0,R=0,x=0,O=0,B=0,L=0,P=null,D=0,z=new r.Buf16(16),I=new r.Buf16(16),N=null,H=0;for(S=0;S<=15;S++)z[S]=0;for(A=0;A<u;A++)z[e[n+A]]++;for(C=k,E=15;E>=1&&0===z[E];E--);if(C>E&&(C=E),0===E)return l[c++]=20971520,l[c++]=20971520,h.bits=1,0;for(T=1;T<E&&0===z[T];T++);for(C<T&&(C=T),O=1,S=1;S<=15;S++)if(O<<=1,(O-=z[S])<0)return-1;if(O>0&&(0===t||1!==E))return-1;for(I[1]=0,S=1;S<15;S++)I[S+1]=I[S]+z[S];for(A=0;A<u;A++)0!==e[n+A]&&(f[I[e[n+A]]++]=A);if(0===t?(P=N=f,_=19):1===t?(P=i,D-=257,N=a,H-=257,_=256):(P=o,N=s,_=-1),L=0,A=0,S=T,y=c,R=C,x=0,v=-1,B=1<<C,g=B-1,1===t&&B>852||2===t&&B>592)return 1;for(;;){m=S-x,f[A]<_?(b=0,w=f[A]):f[A]>_?(b=N[H+f[A]],w=P[D+f[A]]):(b=96,w=0),d=1<<S-x,T=p=1<<R;do{l[y+(L>>x)+(p-=d)]=m<<24|b<<16|w|0}while(0!==p);for(d=1<<S-1;L&d;)d>>=1;if(0!==d?(L&=d-1,L+=d):L=0,A++,0==--z[S]){if(S===E)break;S=e[n+f[A]]}if(S>C&&(L&g)!==v){for(0===x&&(x=C),y+=T,O=1<<(R=S-x);R+x<E&&!((O-=z[R+x])<=0);)R++,O<<=1;if(B+=1<<R,1===t&&B>852||2===t&&B>592)return 1;l[v=L&g]=C<<24|R<<16|y-c|0}}return 0!==L&&(l[y+L]=S-x<<24|64<<16|0),h.bits=C,0}},{"../utils/common":3}],13:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(t,e,n){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function a(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function o(t){return t<256?J[t]:J[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,n){t.bi_valid>U-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>U-t.bi_valid,t.bi_valid+=n-U):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function l(t,e,n){u(t,n[2*e],n[2*e+1])}function c(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function f(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function h(t,e){var n,r,i,a,o,s,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,f=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(a=0;a<=H;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<N;n++)(a=u[2*u[2*(r=t.heap[n])+1]+1]+1)>p&&(a=p,v++),u[2*r+1]=a,r>l||(t.bl_count[a]++,o=0,r>=d&&(o=h[r-d]),s=u[2*r],t.opt_len+=s*(a+o),f&&(t.static_len+=s*(c[2*r+1]+o)));if(0!==v){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,v-=2}while(v>0);for(a=p;0!==a;a--)for(r=t.bl_count[a];0!==r;)(i=t.heap[--n])>l||(u[2*i+1]!==a&&(t.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}function d(t,e,n){var r,i,a=new Array(H+1),o=0;for(r=1;r<=H;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=c(a[s]++,s))}}function p(){var t,e,n,r,a,o=new Array(H+1);for(n=0,r=0;r<L-1;r++)for($[r]=n,t=0;t<1<<K[r];t++)X[n++]=r;for(X[n-1]=r,a=0,r=0;r<16;r++)for(tt[r]=a,t=0;t<1<<V[r];t++)J[a++]=r;for(a>>=7;r<z;r++)for(tt[r]=a<<7,t=0;t<1<<V[r]-7;t++)J[256+a++]=r;for(e=0;e<=H;e++)o[e]=0;for(t=0;t<=143;)Q[2*t+1]=8,t++,o[8]++;for(;t<=255;)Q[2*t+1]=9,t++,o[9]++;for(;t<=279;)Q[2*t+1]=7,t++,o[7]++;for(;t<=287;)Q[2*t+1]=8,t++,o[8]++;for(d(Q,D+1,o),t=0;t<z;t++)q[2*t+1]=5,q[2*t]=c(t,5);et=new i(Q,K,P+1,D,H),nt=new i(q,V,0,z,H),rt=new i(new Array(0),W,0,I,j)}function v(t){var e;for(e=0;e<D;e++)t.dyn_ltree[2*e]=0;for(e=0;e<z;e++)t.dyn_dtree[2*e]=0;for(e=0;e<I;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*M]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function y(t,e,n,r){g(t),r&&(s(t,n),s(t,~n)),R.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function _(t,e,n,r){var i=2*e,a=2*n;return t[i]<t[a]||t[i]===t[a]&&r[e]<=r[n]}function m(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&_(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!_(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function b(t,e,n){var r,i,a,s,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?l(t,i,e):(l(t,(a=X[i])+P+1,e),0!==(s=K[a])&&u(t,i-=$[a],s),l(t,a=o(--r),n),0!==(s=V[a])&&u(t,r-=tt[a],s))}while(c<t.last_lit);l(t,M,e)}function w(t,e){var n,r,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=N,n=0;n<u;n++)0!==a[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)m(t,a,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],m(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,a[2*i]=a[2*n]+a[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,a[2*n+1]=a[2*r+1]=i,t.heap[1]=i++,m(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],h(t,e),d(a,l,t.bl_count)}function k(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=e[2*(r+1)+1],++s<u&&i===o||(s<l?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[2*F]++):s<=10?t.bl_tree[2*Y]++:t.bl_tree[2*Z]++,s=0,a=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4))}function S(t,e,n){var r,i,a=-1,o=e[1],s=0,c=7,f=4;for(0===o&&(c=138,f=3),r=0;r<=n;r++)if(i=o,o=e[2*(r+1)+1],!(++s<c&&i===o)){if(s<f)do{l(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(l(t,i,t.bl_tree),s--),l(t,F,t.bl_tree),u(t,s-3,2)):s<=10?(l(t,Y,t.bl_tree),u(t,s-3,3)):(l(t,Z,t.bl_tree),u(t,s-11,7));s=0,a=i,0===o?(c=138,f=3):i===o?(c=6,f=3):(c=7,f=4)}}function A(t){var e;for(k(t,t.dyn_ltree,t.l_desc.max_code),k(t,t.dyn_dtree,t.d_desc.max_code),w(t,t.bl_desc),e=I-1;e>=3&&0===t.bl_tree[2*G[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function T(t,e,n,r){var i;for(u(t,e-257,5),u(t,n-1,5),u(t,r-4,4),i=0;i<r;i++)u(t,t.bl_tree[2*G[i]+1],3);S(t,t.dyn_ltree,e-1),S(t,t.dyn_dtree,n-1)}function E(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return x;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return O;for(e=32;e<P;e++)if(0!==t.dyn_ltree[2*e])return O;return x}function C(t,e,n,r){u(t,(B<<1)+(r?1:0),3),y(t,e,n,!0)}var R=t("../utils/common"),x=0,O=1,B=0,L=29,P=256,D=P+1+L,z=30,I=19,N=2*D+1,H=15,U=16,j=7,M=256,F=16,Y=17,Z=18,K=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(D+2));r(Q);var q=new Array(2*z);r(q);var J=new Array(512);r(J);var X=new Array(256);r(X);var $=new Array(L);r($);var tt=new Array(z);r(tt);var et,nt,rt,it=!1;n._tr_init=function(t){it||(p(),it=!0),t.l_desc=new a(t.dyn_ltree,et),t.d_desc=new a(t.dyn_dtree,nt),t.bl_desc=new a(t.bl_tree,rt),t.bi_buf=0,t.bi_valid=0,v(t)},n._tr_stored_block=C,n._tr_flush_block=function(t,e,n,r){var i,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=E(t)),w(t,t.l_desc),w(t,t.d_desc),o=A(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==e?C(t,e,n,r):4===t.strategy||a===i?(u(t,2+(r?1:0),3),b(t,Q,q)):(u(t,4+(r?1:0),3),T(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),b(t,t.dyn_ltree,t.dyn_dtree)),v(t),r&&g(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(X[n]+P+1)]++,t.dyn_dtree[2*o(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){u(t,2,3),l(t,M,Q),f(t)}},{"../utils/common":3}],15:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/":[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":1,"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(0),s=n(13),u=n(25),l=n(2),c=n(39);n.d(e,"a",function(){return h});var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.version={major:2,minor:0,revision:4,name:"Genie"},n.tag=s.a.v4().toString(),n.talkService={isCalled:function(){return!1}},n.ts=n.talkService,n}return a(e,t),f(e,[{key:"_resetTag",value:function(){this.tag=s.a.v4().toString()}},{key:"createNucleus",value:function(t){return o.a.i("Nucleus","Genie "+this.version.major+"."+this.version.minor+"."+this.version.revision+" (Build JavaScript/Web - "+this.version.name+")"),o.a.i("Nucleus","Genie Initializing"),this.talkService=new c.a(this.tag,t),this.ts=this.talkService,this.talkService.startup(),window.service=this.talkService,!0}},{key:"destroy",value:function(){null!=this.talkService&&(this.talkService.shutdown(),this.talkService=null,this.ts=null)}},{key:"getTag",value:function(){return this.tag}},{key:"getTalkService",value:function(){return this.talkService}},{key:"getLogger",value:function(){return o.a}},{key:"getUtils",value:function(){return l.a}},{key:"activateWSPlugin",value:function(t,e){var n=document.createElement("script");n.onload=function(){var n=document.createElement("script");n.onload=function(){e&&setTimeout(e,30)},n.setAttribute("src",t+"/websocket.js"),document.body.appendChild(n)},n.setAttribute("src",t+"/swfobject.js"),document.body.appendChild(n),WEB_SOCKET_SWF_LOCATION=t+"/WebSocketMain.swf"}}]),e}(u.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return i});var i=function t(){r(this,t),this.heartbeat=6e4}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(13);n.d(e,"a",function(){return a});var a=function t(e){r(this,t),this.uuid=i.a.v4().toString(),this.strFormat=this.uuid.toString(),e&&(this.uuid=i.a.fromString(e),this.strFormat=e)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(5);n.d(e,"a",function(){return d});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s={NETWORK_FAILED:1e3,STATUS_ERROR:1100},u=function(){function t(e,n){r(this,t),this.status=e,this.data=n}return o(t,[{key:"getStatus",value:function(){return this.status}},{key:"getData",value:function(){return this.data}}]),t}(),l=function(){function t(e,n){r(this,t),this._xmlhttp=e,this._url=n,this._method="GET",this._headers=null,this._content=null}return o(t,[{key:"method",value:function(t){return this._method=t,this}},{key:"header",value:function(t,e){return null==this._headers&&(this._headers=new i.a),this._headers.put(t,e),this}},{key:"content",value:function(t){return this._content=t,this}},{key:"send",value:function(t){this._xmlhttp.open(this._method,this._url,!0);var e;if(null!=this._content&&"object"==a(this._content)){for(var n in this._content)null==e?e=n+"="+encodeURIComponent(this._content[n]):e+="&"+n+"="+encodeURIComponent(this._content[n]);this._xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}else e=this._content,this._xmlhttp.setRequestHeader("Content-Type","application/json");if(null!=this._headers)for(var r=this._headers.keySet(),i=0;i<r.length;++i){var o=r[i],s=this._headers.get(o);this._xmlhttp.setRequestHeader(o,s)}if(void 0!==t){var l=this._xmlhttp;l.onreadystatechange=function(){if(4==l.readyState){var e=new u(l.status,l.responseText);t.call(null,e)}}}null==e?this._xmlhttp.send():this._xmlhttp.send(e)}}]),t}(),c=function(){function t(e,n){r(this,t),this._address=e,this._port=n,this._uri="",this._method="GET",this._cookie=null,this._headers=null,this._content=null,this._error=null,this._errorContext=null,this._protocol=window.location.protocol.toLowerCase().indexOf("https")>=0?"https://":"http://",this._completed=!1,this._timestamp=new Date}return o(t,[{key:"uri",value:function(t){return this._uri=t,this}},{key:"method",value:function(t){return this._method=t,this}},{key:"content",value:function(t){return this._content=t,this}},{key:"cookie",value:function(t){return this._cookie=t,this}},{key:"error",value:function(t,e){return this._error=t,this._errorContext=void 0!==e?e:null,this}},{key:"send",value:function(t){return h.execute(this,t),this}},{key:"_execute",value:function(t){var e=this._timestamp.getTime(),n=["?u=",this._uri,"&m=",this._method,"&c=_cc_ajax_cb","&t=",e];if(null!=this._content){var r=null;r="string"==typeof this._content?this._content:JSON.stringify(this._content),n.push("&b=",escape(r))}null!=this._cookie&&n.push("&_cookie=",escape(this._cookie));var i=this._protocol+this._address+":"+this._port+"/cccd.js"+n.join(""),a=this;void 0!==t&&f.put(e,{request:a,callback:t});var o=document.getElementById("cccd");return null!=o&&(document.body.removeChild(o),o=null),null==o&&(o=document.createElement("script"),o.setAttribute("type","text/javascript"),o.setAttribute("id","cccd"),o.addEventListener?(o.addEventListener("error",function(t){a._onError(t)},!1),o.addEventListener("load",function(t){a._onLoad(t)},!1)):o.attachEvent&&(o.attachEvent("onerror",function(t){a._onError(t)}),o.attachEvent("onload",function(t){a._onLoad(t)})),o.src=i,document.body.appendChild(o)),this}},{key:"_onLoad",value:function(t){h.notifyCompleted(this)}},{key:"_onError",value:function(t){null!=this._error&&(void 0!==t?this._error.call(this._errorContext,this,s.NETWORK_FAILED):this._error.call(this._errorContext,this,s.STATUS_ERROR)),this._completed=!0,f.remove(this._timestamp.getTime()),h.notifyCompleted(this)}}]),t}(),f=new i.a,h={timer:0,lastRequest:null,requestQueue:[],callbackQueue:[],notifyCompleted:function(t){},execute:function(t,e){this.requestQueue.push(t),this.callbackQueue.push(e)}};h.timer=setInterval(function(){var t=h.requestQueue;if(t.length>0){var e=h.callbackQueue;if(null!=h.lastRequest){if(h.lastRequest._completed){var n=t.shift(),r=e.shift();h.lastRequest=n,n._execute(r)}}else{var n=t.shift(),r=e.shift();h.lastRequest=n,n._execute(r)}}},500);var d={newRequest:function(t){var e=null;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),new l(e,t)},newCrossDomain:function(t,e){return new c(t,e)}}},function(t,e,n){"use strict";(function(t){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return i});var i=function e(i){r(this,e);var a;void 0!==t&&t.exports&&(a=n(47).Buffer);var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(o),u=String.fromCharCode,l=function(t){if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?u(192|e>>>6)+u(128|63&e):u(224|e>>>12&15)+u(128|e>>>6&63)+u(128|63&e)}var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return u(240|e>>>18&7)+u(128|e>>>12&63)+u(128|e>>>6&63)+u(128|63&e)},c=function(t){return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,l)},f=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[o.charAt(n>>>18),o.charAt(n>>>12&63),e>=2?"=":o.charAt(n>>>6&63),e>=1?"=":o.charAt(63&n)].join("")},h=i.btoa?function(t){return i.btoa(t)}:function(t){return t.replace(/[\s\S]{1,3}/g,f)},d=a?function(t){return new a(t).toString("base64")}:function(t){return h(c(t))},p=function(t,e){return e?d(t).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):d(t)},v=function(t){return p(t,!0)},g=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),y=function(t){switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return u(55296+(n>>>10))+u(56320+(1023&n));case 3:return u((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return u((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},_=function(t){return t.replace(g,y)},m=function(t){var e=t.length,n=e%4,r=(e>0?s[t.charAt(0)]<<18:0)|(e>1?s[t.charAt(1)]<<12:0)|(e>2?s[t.charAt(2)]<<6:0)|(e>3?s[t.charAt(3)]:0),i=[u(r>>>16),u(r>>>8&255),u(255&r)];return i.length-=[0,0,2,1][n],i.join("")},b=i.atob?function(t){return i.atob(t)}:function(t){return t.replace(/[\s\S]{1,4}/g,m)},w=a?function(t){return new a(t,"base64").toString()}:function(t){return _(b(t))},k=function(t){return w(t.replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},S=function(){var t=i.Base64;return i.Base64=A,t};i.Base64={VERSION:"2.1.4",atob:b,btoa:h,fromBase64:k,toBase64:p,utob:c,encode:p,encodeURI:v,btou:_,decode:k,noConflict:S};var A=i.Base64;if("function"==typeof Object.defineProperty){var T=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};i.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",T(function(){return k(this)})),Object.defineProperty(String.prototype,"toBase64",T(function(t){return p(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",T(function(){return p(this,!0)}))}}}}).call(e,n(51)(t))},function(t,e,n){"use strict";function r(t){var e=t.toString().match(/^[\s\(]*function[^(]*\(([^\)]*)\)/)[1].replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function i(t,e){function n(){t&&(this.baseprototype=t.prototype),this.ctor.apply(this,arguments)}if("object"===(void 0===t?"undefined":a(t))&&(e=t,t=null),t){var i=function(){};i.prototype=t.prototype,n.prototype=new i,n.prototype.constructor=n}for(var o in e)e.hasOwnProperty(o)&&(t&&"function"==typeof e[o]&&"$super"===r(e[o])[0]?n.prototype[o]=function(e,n){return function(){var r=this;return $super=function(){return t.prototype[e].apply(r,arguments)},n.apply(this,Array.prototype.concat.apply($super,arguments))}}(o,e[o]):n.prototype[o]=e[o]);return n}e.a=i;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e,n){r(this,t),this.host=e,this.port=n}return i(t,[{key:"getHost",value:function(){return this.host}},{key:"getPort",value:function(){return this.port}},{key:"toString",value:function(){return this.host+":"+this.port}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(4),a=n(0),o=n(2),s=n(1);n.d(e,"a",function(){return l});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(){function t(){r(this,t),this.sn=o.a.randomBytes(4),this.expectedKey=["a","b","c","d","e","f","g","h"],this.expectedTag="921660a9-e336-43f3-a1b8-b9ae8a456bf4",this.expectedHS=[1,0,17,36,17,36,72,83,97,98,99,100,101,102,103,104,30,57,50,49,54,54,48,97,57,45,101,51,51,54,45,52,51,102,51,45,97,49,98,56,45,98,57,97,101,56,97,52,53,54,98,102,52]}return u(t,[{key:"test1",value:function(){for(var t=i.a.serializeHandshake(s.a.toBytes(this.expectedKey.join("")),this.expectedTag),e=0;e<this.expectedHS.length;++e){if(this.expectedHS[e]!=t[e])return void a.a.e("CaseProtocol","Test 1 failed")}a.a.i("CaseProtocol","Test 1 OK")}},{key:"test2",value:function(){for(var t=i.a.deserializeHandshake(this.expectedHS),e=0;e<this.expectedKey.length;++e)if(t.key[e]!=this.expectedKey[e])return void a.a.e("CaseProtocol","Test 2 failed : key error");if(t.tag!=this.expectedTag)return void a.a.e("CaseProtocol","Test 2 failed: tag error");a.a.i("CaseProtocol","Test 2 OK")}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(0),a=n(1),o=n(3);n.d(e,"a",function(){return u});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(){function t(){r(this,t)}return s(t,[{key:"run",value:function(){var t=o.a.compress("1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ");i.a.i("CaseZip",t);for(var e=Date.now(),n=0;n<=1e5;n++)++e!=a.a.toLong(a.a.toBytes(e))&&console.log(e)}}]),t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(15),i=n(5),a=n(19),o=n(17),s=n(7),u=n(20),l=n(21),c=n(16),f=n(6),h=n(18),d=n(14),p=(n.n(d),n(23)),v=n(22);!function(t){t.NucleusConfig=c.a,t.NucleusTag=o.a,t.NucleusError=f.a,t.NucleusAjax=h.a,t.ActionDialect=s.a,t.InetAddress=l.a,t.Class=u.a,t.HashMap=i.a,t.pako=d,t.nucleus=new r.a,t.Base64=new a.a(t),t.CaseZip=p.a,t.CaseProtocol=v.a}(window)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t)}return i(t,[{key:"startup",value:function(){return!1}},{key:"shutdown",value:function(){}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return o});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a={},o=function(){function t(e,n){switch(r(this,t),this.code=e,this.reason="Error in "+n,this.description="Unknown",e){case a.NOTFOUND_CELLET:this.description="Server can not find specified cellet";break;case a.CALL_FAILED:this.description="Network connecting timeout";break;case a.TALK_LOST:this.description="Lost talk connection"}this.sourceDescription="",this.sourceCelletIdentifiers=null}return i(t,[{key:"getCode",value:function(){return this.code}},{key:"getReason",value:function(){return this.reason}},{key:"getDescription",value:function(){return this.description}},{key:"getSourceDescription",value:function(){return this.sourceDescription}},{key:"setSourceDescription",value:function(t){this.sourceDescription=t}},{key:"getSourceCelletIdentifiers",value:function(){return this.sourceCelletIdentifiers}},{key:"setSourceCelletIdentifiers",value:function(t){this.sourceCelletIdentifiers=t}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t),this.handler=null}return i(t,[{key:"setHandler",value:function(t){this.handler=t}},{key:"getHandler",value:function(){return this.handler}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(29),s=n(3),u=n(4),l=n(27),c=n(10),f=n(12),h=n(0),d=n(45);n.d(e,"a",function(){return v});var p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.block=65536,t.writeLimit=32768,t.address=null,t.connectTimeout=1e4,t.channel=null,t.selector=null,t.session=null,t.handleThread=null,t.spinning=!1,t.running=!1,t.sleepInterval=20,t.messages=[],t.closed=!1,t.byteBufferQueue=[],t.secure=window.location.protocol.toLowerCase().indexOf("https")>=0,t}return a(e,t),p(e,[{key:"getAddress",value:function(){return this.address}},{key:"connect",value:function(t){if(null!=this.channel&&this.channel.isConnected())return h.a.w(e,"Connector has connected to "+t.getAddress().getHostAddress()),!1;if(this.running&&null!=this.channel&&(this.spinning=!1,null!=this.channel)){this.destroyChannelEvent();try{this.channel.close(1e3,"Speaker#close")}catch(t){}}this.messages=[],this.address=t;var n=this;return this.channel=this.createChannel(this.address.getHost(),this.address.getPort()+1),this.session=new o.a(this.address),this.handleThread=new f.a(function(){n.fireSessionCreated()}),this.handleThread.start(),!0}},{key:"disconnect",value:function(){if(this.spinning=!1,null!=this.channel){this.channel.isConnected()&&this.fireSessionClosed();try{null!=this.channel&&this.channel.close(1e3,"Speaker#close")}catch(t){h.a.e("Speaker","Close socket has exception.")}this.channel=null,this.messages=[]}this.channel=null}},{key:"destroyChannelEvent",value:function(){this.channel.onopen=null,this.channel.onclose=null,this.channel.onmessage=null,this.channel.onerror=null}},{key:"createChannel",value:function(t,e){if(void 0===window.WebSocket)return null;var n=this,r=null;return r=n.secure?e?new WebSocket("wss://"+t+":"+e+"/wss/","cell"):new WebSocket("wss://"+t+"/wss/","cell"):e?new WebSocket("ws://"+t+":"+e+"/ws/","cell"):new WebSocket("ws://"+t+"/ws/","cell"),r.onopen=function(t){n.fireSessionOpened(r,t)},r.onclose=function(t){n.fireSessionClosed(r,t)},r.onmessage=function(t){n.receive(r,t)},r.onerror=function(t){n.fireErrorOccurred(c.a.SOCKET_FAILED,t)},r}},{key:"process",value:function(t){null!=this.handler&&this.handler.messageReceived(this.session,t)}},{key:"setConnectTimeout",value:function(t){this.connectTimeout=t}},{key:"getConnectTimeout",value:function(){return this.connectTimeout}},{key:"resetSleepInterval",value:function(t){this.sleepInterval=t}},{key:"setBlockSize",value:function(t){if(!(t<2048)&&this.block!=t&&(this.block=t,this.writeLimit=Math.round(.5*t),null!=this.channel))try{this.channel.setReceiveBufferSize(this.block),this.channel.setSendBufferSize(this.block)}catch(t){}}},{key:"getBlockSize",value:function(){return this.block}},{key:"getSession",value:function(){return this.session}},{key:"write",value:function(t){if(t.length>this.writeLimit)return void this.fireErrorOccurred(c.a.WRITE_OUTOFBOUNDS);this.messages.push(t)}},{key:"fireSessionCreated",value:function(){null!=this.handler&&this.handler.sessionCreated(this.session)}},{key:"fireSessionOpened",value:function(){null!=this.handler&&(this.closed=!1,this.handler.sessionOpened(this.session))}},{key:"fireSessionClosed",value:function(){null!=this.handler&&(this.closed||(this.closed=!0,this.handler.sessionClosed(this.session)))}},{key:"fireSessionDestroyed",value:function(){null!=this.handler&&this.handler.sessionDestroyed(this.session)}},{key:"fireErrorOccurred",value:function(t){null!=this.handler&&this.handler.errorOccurred(t,this.session)}},{key:"loopDispatch",value:function(){for(this.spinning=!0;this.spinning&&this.spinning;);}},{key:"send",value:function(t){if(clearTimeout(this.sockTimer),this.sockTimer=0,this.closed)return void this.fireSessionClosed();try{if(0!=this.messages.length)for(;0!=this.messages.length;){var e=this.messages.shift();if(null==e)break;var n=e.payload,r=this.session.secretKey;null!=r&&e.setPayload(s.a.pack(n,r));var i=new Uint8Array(e.getPayload());if(this.channel.send(i),null!=this.handler&&(e.setPayload(this._parseBuf(i)),this.handler.messageSent(this.session,e)),this.messages.length>0){var a=this;this.sockTimer=setTimeout(function(){a.send()},20)}}}catch(t){h.a.l("NonblockingConnector",t,d.a.WARNING)}}},{key:"receive",value:function(t,e){if("string"==typeof e.data)h.a.w("Speaker","Not supported string type");else{var n=this,r=new FileReader;r.readAsArrayBuffer(e.data),r.onload=function(t){var e=new Uint8Array(t.target.result,0,t.target.result.length);n.process(n._parseBuf(e))}}}},{key:"_parseBuf",value:function(t){var e=[];e=e.concat(Array.from(t.slice(0,6)));for(var n=t.slice(6),r=0;r<n.length;r++)e.push(n[r]);for(var i=0;i<t.length;i++)t[i]==u.a.SEPARATE_CHAR&&(e[i]=u.a.SEPARATE_CHAR);return e}}]),e}(l.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(30);n.d(e,"a",function(){return s});var s=function(t){function e(t){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return a(e,t),e}(o.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(2);n.d(e,"a",function(){return o});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(e){r(this,t),this.id=i.a.generateSerialNumber(),this.timestamp=Date.now(),this.address=e,this.secretKey=null}return a(t,[{key:"getId",value:function(){return this.id}},{key:"getAddress",value:function(){return this.handler}},{key:"setSecretKey",value:function(t){this.secretKey=t}},{key:"getSecretKey",value:function(){return this.secretKey}},{key:"toString",value:function(){return this.address.getHostString()+":"+this.address.getPort()}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(37);n.d(e,"a",function(){return u});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.service=t,n}return a(e,t),s(e,[{key:"onListened",value:function(t,e,n){for(var r=this.service.listeners,i=0;i<r.length;++i)r[i].onListened(t,e,n)}},{key:"onSpoke",value:function(t,e,n){for(var r=this.service.listeners,i=0;i<r.length;++i)r[i].onSpoke(t,e,n)}},{key:"onSpeakAck",value:function(t,e,n){for(var r=this.service.listeners,i=0;i<r.length;++i)r[i].onSpeakAck(t,e,n)}},{key:"onSpeakTimeout",value:function(t,e,n){for(var r=this.service.listeners,i=0;i<r.length;++i)r[i].onSpeakTimeout(t,e,n)}},{key:"onDialogue",value:function(t,e,n){for(var r=this.service.listeners,i=0;i<r.length;++i)r[i].onDialogue(t,e,n)}},{key:"onContacted",value:function(t,e){for(var n=this.service.listeners,r=0;r<n.length;++r)n[r].onContacted(t,e)}},{key:"onQuitted",value:function(t,e){for(var n=this.service.listeners,r=0;r<n.length;++r)n[r].quitted(t,e)}},{key:"onFailed",value:function(t,e){for(var n=this.service.listeners,r=0;r<n.length;++r)n[r].failed(t,e)}}]),e}(o.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return i});var i=function t(e,n){r(this,t),this.originateTimestamp=0,this.receiveTimestamp=0,this.transmitTimestamp=0,this.localTimestamp=0,this.session=e,this.tag=n}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(32),a=n(4),o=n(0),s=n(3);n.d(e,"a",function(){return l});var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(){function t(e){r(this,t),this.hbInterval=null,this.hbDuration=15e3,this.daemon=null,this.connector=null,this.acceptor=e,this.contextMap=new HashMap,this.currentQueue=[],this.listener=null}return u(t,[{key:"startup",value:function(){if(null==this.daemon);}},{key:"shutdown",value:function(){null!=this.daemon&&(this.daemon.cancel(),this.daemon=null),this.contextMap.clear(),this.currentQueue.clear()}},{key:"setInterval",value:function(t){this.hbInterval=t}},{key:"setListener",value:function(t){this.listener=t}},{key:"addSession",value:function(t,e){this.contextMap.containsKey(t.getId())||this.contextMap.put(t.getId(),new i.a(t,e))}},{key:"removeSession",value:function(t){this.contextMap.remove(t.getId())}},{key:"getContext",value:function(t){return this.contextMap.get(t.getId())}},{key:"processHeartbeat",value:function(t,e,n){if(o.a.d("Speaker","Heartbeat is to live"),null!=this.contextMap.get(t.getId())){var r=a.a.deserializeHeartbeat(e),i=a.a.serializeHeartbeatAck(r.tag,r.originateTimestamp,n,Date.now()),u=new s.a(i);this.acceptor.write(u),this.acceptor.send()}}},{key:"processHeartbeatAck",value:function(t,e){var n=this.contextMap.get(t.getId());if(null!=n){var r=a.a.deserializeHeartbeatAck(e);r.originateTimestamp==n.originateTimestamp&&(n.receiveTimestamp=r.receiveTimestamp,n.transmitTimestamp=r.transmitTimestamp,n.localTimestamp=Date.now())}}},{key:"setHandler",value:function(t){this.handler=handler}},{key:"getHandler",value:function(){return this.handler}},{key:"setListener",value:function(t){this.listener=t}},{key:"addSession",value:function(t,e){this.contextMap.containsKey(t.getId())||this.contextMap.put(t.getId(),new i.a(t,e))}},{key:"CheckTask",value:function(){}},{key:"Daemon",value:function(){var t=Date.now(),e=this.contextMap.values().shift();e.originateTimestamp=parseInt(t.toString().substring(0,8)),this.contextMap.put(e);var n=a.a.serializeHeartbeat(window.nucleus.tag,t),r=new s.a(n);this.acceptor.write(r),this.acceptor.send()}}]),t}()},function(t,e,n){"use strict";var r=n(1);n.d(e,"a",function(){return i});var i={STRING:"S",INT:"I",LONG:"L",FLOAT:"F",DOUBLE:"D",BOOL:"B",JSON:"J",BIN:"N",code:null,setCode:function(t){this.code=t},getCode:function(){return this.code},parseLiteralBase:function(t){switch(r.a.toString(t)){case"S":return i.STRING;case"I":return i.INT;case"L":return i.LONG;case"F":return i.FLOAT;case"D":return i.DOUBLE;case"B":return i.BOOL;case"J":return i.JSON;default:return i.BIN}}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return i});var i=function t(e,n){r(this,t),this.target=e,this.primitive=n}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(28),a=n(33),o=n(44),s=n(4),u=n(26),l=n(3),c=n(35),f=n(6),h=n(12),d=n(0),p=n(1),v=n(2),g=n(11);n.d(e,"a",function(){return _});var y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_=function(){function t(e,n,i){r(this,t),this.tag=e,this.serverTag=null,this.address=n,this.state=g.a.Disconnected,this.connector=null,this.session=null,this.secretKey=null,this.receivedQueue=[],this.sentQueue=[],this.spkRes=null,this.listener=i,this.spokeList=new HashMap,this.reconnectTimer=0,this.handshakeTimer=0,this.hm=0,this.acknowledgement=null,this.secure=!1,this.sockTimer=0,this.cellets=[]}return y(t,[{key:"start",value:function(t){if(null!=this.connector||this.state==g.a.Connecting)return!1;if(t)for(var e=0;e<t.length;++e){var n=t[e];this.cellets.indexOf(n)>=0||this.cellets.push(n)}return this.state=g.a.Connecting,null!=this.reconnectTimer&&(this.reconnectTimer=null),this.connector=new i.a,this.connector.setHandler(this),this.hm=new a.a(this.connector),this.hm.setListener(this),!!this.connector.connect(this.address)||(this.state=g.a.Disconnected,this.connector.setHandler(null),this.connector=null,this.hm.setListener(null),this.hm=null,!1)}},{key:"stop",value:function(){g.a.Disconnecting!=this.state&&(this.state=g.a.Disconnecting)}},{key:"speak",value:function(t,e){if(this.state!==g.a.Connected)return!1;if(this.cellets.indexOf(t)<0)return!1;var n=this;if(this.hbSendTime=0,this.hbReceiveTime=0,this.spokeList.get(this.session.getId()).addPrimitive(t,e),null!=this.connector){var r=s.a.serializeSpeak(t,e),i=new l.a(r);i.setContext(new c.a(t,e)),this.sentQueue.push(i),this.connector.write(i),0==this.sockTimer&&(this.sockTimer=setTimeout(function(){n._sockHandleSend()},20)),this.connector.send(),0==this.ping&&(this.ping=Date.now())}return!0}},{key:"_sockHandleSend",value:function(){if(clearTimeout(this.sockTimer),this.sockTimer=0,0!==this.sentQueue.length&&null!==this.connector){var t=this.sentQueue.shift();if(this.connector.send(t),this.sentQueue.length>0){var e=this;this.sockTimer=setTimeout(function(){e._sockHandleSend()},20)}}}},{key:"handshake",value:function(){d.a.d("Speaker","Handshake : "+this.address.toString());var t=this;this.secretKey=p.a.toBytes(v.a.randomString(8));var e=s.a.serializeHandshake(this.secretKey,this.tag),n=new l.a(e);try{this.connector.write(n)}catch(t){d.a.e("Speaker","Handshake failed",t)}0==this.sockTimer&&(this.sockTimer=setTimeout(function(){t.connector.send()},20))}},{key:"sessionCreated",value:function(t){d.a.d("Speaker","Session Created"),this.session=t,this.spokeList.put(t.getId(),new o.a(t)),this.hm.addSession(t,this.tag.toString()),this.hm.startup()}},{key:"sessionDestroyed",value:function(){d.a.d("Speaker","Session sessionDestroyed"),null!=this.connector&&(this.stop(!0),d.a.i("speaker","Reconnect to "+this.address.getHost()+":"+address.getPort()));var t=this.spokeList.remove(this.session.getId());null!=t&&t.clean(),null!=this.hm&&(this.hm.removeSession(session),this.hm.shutdown(),this.hm=null)}},{key:"sessionOpened",value:function(t){d.a.d("Speaker","sessionOpened"),this.state=g.a.Connected;var e=this;new h.a(function(){e.handshake()}).start()}},{key:"sessionClosed",value:function(t){if(d.a.d("Speaker","sessionClosed"),this.state===g.a.Connected)for(var e=0;e<this.cellets.length;++e)this._fireQuitted(this.cellets[e]);else this._fireFailed(this.connector,f.a.NetworkError);this.remoteTag=null,this.state=g.a.Disconnected,this.listener.onQuitted(this,null)}},{key:"messageReceived",value:function(t,e){var n=this;if(t&&e){var r=s.a.recognize(e);if(s.a.Handshake==r){d.a.d("Speaker","Handshake Success");new h.a(function(){n.processHandshake(t,e)}).start()}else s.a.Speak==r?(this.receivedQueue.push(e),n.processSpeak(e)):s.a.BatchSpeak==r?n.processBatchSpeak(e):s.a.SpeakAck==r?n.processSpeakAck(t,e):s.a.Heartbeat==r?n.processHeartHeat(t,e,Date.now()):s.a.HeartbeatAck==r?n.processHeartHeatAck(t,e):d.a.w("Speaker","Unknown protocol")}}},{key:"messageSent",value:function(t,e){null==t.getSecretKey()&&this.session.setSecretKey(this.secretKey);var n=s.a.recognize(e.getPayload());if(s.a.Speak==n){var r=e.getContext();this.listener.onSpoke(this,r.target,r.primitive)}}},{key:"processHandshake",value:function(t,e){var n=s.a.deserializeHandshake(e);if(null!=n.key&&null!=n.tag){if(this.state===g.a.Disconnected)return;var r=this;if(e.error){var i=new u.a(f.a.NOTFOUND_CELLET,"Speaker");i.setSourceDescription("Can not find cellet '"+this.cellets.toString()+"'"),i.setSourceCelletIdentifiers(this.cellets),this.state=g.a.Disconnected,this.listener.onFailed(this,i)}else{this.tag=n.tag.toString(),this.state=g.a.Connected;var a=setTimeout(function(){clearTimeout(a),r.listener.onContacted(r,r.tag)},60)}}else d.a.e("Speaker","")}},{key:"sendSpeakAck",value:function(t,e){if(this.state!==g.a.Connected)return!1;var n=this;if(null!=this.connector){var r=s.a.serializeSpeakAck(t,e),i=new l.a(r);i.setContext(new c.a(t,e)),this.connector.write(i),0==this.sockTimer&&(this.sockTimer=setTimeout(function(){n._sockHandleSend()},20)),this.connector.send(),0==this.ping&&(this.ping=Date.now())}return!0}},{key:"processSpeak",value:function(t){var e=this,n=function(n,i){null!=t&&(e.sendSpeakAck(n,i),e.listener.onListened(this,r.target,r.primitive))},r=s.a.deserializeSpeak(t);if(null!=r.target&&null!=r.primitive){if(this.state===g.a.Disconnected)return;if(0==this.pong&&(this.pong=Date.now(),this.ping>0&&(this.pingPong=this.pong-this.ping)),void 0!==r.primitive)n(r.target,r.primitive);else if(void 0!==r.primitives)for(var i=0,a=r.packet.primitives.length;i<a;++i){var o=r.packet.primitives[i];n(o.target,o.primitive)}}}},{key:"processBatchSpeak",value:function(t){var e=this,n=function(n,i){null!=t&&e.listener.onListened(this,r.target,r.primitive)},r=s.a.deserializeSpeak(t);if(null!=r.target&&null!=r.primitive){if(this.state===g.a.Disconnected)return;if(0==this.pong&&(this.pong=Date.now(),this.ping>0&&(this.pingPong=this.pong-this.ping)),void 0!==r.primitive)n(r.target,r.primitive);else if(void 0!==r.primitives)for(var i=0,a=r.packet.primitives.length;i<a;++i){var o=r.packet.primitives[i];n(o.target,o.primitive)}}}},{key:"processSpeakAck",value:function(t,e){var n=s.a.deserializeSpeakAck(e),r=null,i=this.spokeList.get(t.getId());null!=i&&(r=i.removePrimitive(n.target,n.sn)),this.listener.onSpeakAck(this,n.target,r)}},{key:"processHeartHeat",value:function(t,e){this.hm.processHeartbeat(t,e,Date.now())}},{key:"processHeartHeatAck",value:function(t,e){this.hm.processHeartbeatAck(t,e)}},{key:"destroySocketEvent",value:function(){null!=this.connector&&this.connector.destroyChannelEvent()}},{key:"hangUp",value:function(){if(this.sockTimer>0&&(clearTimeout(this.sockTimer),this.sockTimer=0),null!=this.connector){try{this.connector.close(1e3,"Speaker#close")}catch(t){d.a.e("Speaker","Close socket has exception.")}this.connector=null,this.sockSendQueue=[]}this.state=g.a.Disconnected,this.tag=null,this.hbSendTime=0,this.hbReceiveTime=0,d.a.d("Speaker","Hang up call.")}},{key:"errorOccurred",value:function(t,e){d.a.isDebugLevel()&&d.a.d("speack","Error: "+t);var n=f.a.transformError(t);this.listener.onFailed(this,n)}},{key:"_fireDialogue",value:function(t,e){this.listener.onListened(this,t,e)}},{key:"_fireQuitted",value:function(t){this.listener.onQuitted(this,t)}},{key:"_fireFailed",value:function(t,e){var n=null;e==f.a.NetworkError?(this.state===g.a.CALLING?(n=new u.a(f.a.CALL_FAILED,"Speaker"),n.setSourceDescription("Attempt to connect to host timed out")):(n=new u.a(f.a.TALK_LOST,"Speaker"),n.setSourceDescription("Attempt to connect to host timed out")),this.state=g.a.Disconnected):e==HttpErrorCode.STATUS_ERROR?(this.state===g.a.Connecting?(n=new u.a(f.a.CALL_FAILED,"Speaker"),n.setSourceDescription("Http status error")):(n=new u.a(f.a.TALK_LOST,"Speaker"),n.setSourceDescription("Http status error")),this.state=g.a.Disconnected):(n=new u.a(f.a.UNKNOWN,"Speaker"),n.setSourceDescription("Unknown"),this.state=g.a.Disconnected),n.setSourceCelletIdentifiers(this.cellets),this.listener.onFailed(this,n)}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t)}return i(t,[{key:"onDialogue",value:function(t,e,n){}},{key:"onContacted",value:function(t,e){}},{key:"onQuitted",value:function(t,e){}},{key:"onFailed",value:function(t,e){}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t)}return i(t,[{key:"startServer",value:function(t){}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(38),s=n(31),u=n(36),l=n(40),c=n(41),f=n(0),h=n(11);n.d(e,"a",function(){return p});var d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=function(t){function e(t,n){r(this,e);var a=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.tag=t,a.config=n,a.daemonTimer=0,a.recallTimer=0,a.speakers=new Array,a.speakerMap=new HashMap,a.listeners=new Array,a.delegateProxy=new s.a(a),a.tickTime=1e4,a}return a(e,t),d(e,[{key:"startup",value:function(){var t=new l.a;return c.a.getInstance().addFactory(t),f.a.i("TalkService","Tick period is "+this.tickTime+" ms"),this._tickFunction(),!0}},{key:"shutdown",value:function(){this.daemonTimer>0&&(clearTimeout(this.daemonTimer),this.daemonTimer=0),this.recallTimer>0&&(clearTimeout(this.recallTimer),this.recallTimer=0)}},{key:"addListener",value:function(t){this.listeners.indexOf(t)>=0||this.listeners.push(t)}},{key:"removeListener",value:function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}},{key:"hasListener",value:function(t){return this.listeners.indexOf(t)>=0}},{key:"isWebSocketSupported",value:function(){return void 0!==window.WebSocket}},{key:"resetHeartbeat",value:function(t,e){if(e<2e3)return f.a.w("TalkService","Reset '"+t+"' heartbeat Failed."),!1;if(this.isWebSocketSupported()&&e<1e4)return f.a.w("TalkService","Reset '"+t+"' heartbeat Failed."),!1;this.tickTime=e<=5e3?5e3:1e4,clearTimeout(this.daemonTimer),this.daemonTimer=0;var n=this.speakerMap.get(t);if(null!=n)n.heartbeat=e;else{f.a.e("TalkService","Reset '"+t+"' heartbeat Failed. Retrying after 5 seconds ...");var r=this;setTimeout(function(){var n=r.speakerMap.get(t);null!=n&&(n.heartbeat=e)},5e3)}return f.a.i("TalkService","Reset '"+t+"' heartbeat period is "+e+" ms"),this._tickFunction(),!0}},{key:"call",value:function(t,e,n){for(var r=0;r<this.speakers.length;r++)if(this.speakers[r].tag==this.tag&&(this.speakers[r].state==h.a.Connected||this.speakers[r].state==h.a.Connecting))return;var i=new u.a(this.tag,e,this.delegateProxy);this.speakers.push(i);for(var a=0;a<t.length;++a){var o=t[a];this.speakerMap.put(o,i)}return n||this.resetHeartbeat(t[0],5e3),i.start(t)}},{key:"tryRecall",value:function(){if(0==this.speakers.length)return!1;for(var t=[],e=0;e<this.speakers.length;++e){var n=this.speakers[e];n.state==h.a.Disconnected&&t.push(n)}if(0==t.length)return!1;this.recallTimer>0&&(clearTimeout(this.recallTimer),this.recallTimer=0);var r=this;return this.recallTimer=setTimeout(function(){clearTimeout(r.recallTimer),r.recallTimer=0,t.length==r.speakers.length&&window.nucleus._resetTag();for(var e=0;e<t.length;++e){var n=t[e];n.state!=h.a.Connected&&n.start(null)}},5e3),!0}},{key:"recall",value:function(){if(0==this.speakers.length)return!1;this.recallTimer>0&&(clearTimeout(this.recallTimer),this.recallTimer=0);for(var t=0;t<this.speakers.length;++t){var e=this.speakers[t];e.state!=h.a.Connected&&(e.destroySocketEvent(),e.hangUp())}var n=this;return this.recallTimer=setTimeout(function(){clearTimeout(n.recallTimer),n.recallTimer=0,window.nucleus._resetTag();for(var t=0;t<n.speakers.length;++t){var e=n.speakers[t];e.state!=h.a.Connected&&(e.tag=UUID.v4().toString(),e.start(null))}},5e3),!0}},{key:"hangUp",value:function(t,e){var n=this.speakerMap.get(t);if(null!=n&&n.cells){for(var r=0,i=n.cells.length;r<i;++r){var a=n.cells[r];this.speakerMap.remove(a)}e&&n.destroySocketEvent(),n.hangUp();var o=-1;(o=this.speakers.indexOf(n))>=0&&this.speakers.splice(o,1)}}},{key:"talk",value:function(t,e){var n=this.speakerMap.get(t);if(null!=n){if(void 0!==e.translate){var r=e.translate();return null!=e?n.speak(t,r):(f.a.e("TalkService","Failed translates dialect to primitive."),!1)}return n.speak(t,e)}return f.a.w("TalkService","Can not find '"+t+"' cellet in speaker."),!1}},{key:"getTalkState",value:function(t){var e=this.speakerMap.get(t);return null!=e?e.state:h.a.Disconnected}},{key:"isCalled",value:function(t,e){var n=this.speakerMap.get(t);return null!=n&&n.state==h.a.Connected}},{key:"getPingPongTime",value:function(t){var e=this.speakerMap.get(t);return null!=e?e.pingPong:-1}},{key:"_tickFunction",value:function(){var t=this;t.daemonTimer>0&&clearTimeout(t.daemonTimer),t.daemonTimer=setTimeout(function(){clearTimeout(t.daemonTimer),t.daemonTimer=0,t._exeDaemonTask(),t._tickFunction()},t.tickTime)}},{key:"_exeDaemonTask",value:function(){if(this.speakers.length>0)for(var t=0;t<this.speakers.length;++t);}},{key:"isWebSocketSupported",value:function(){return void 0!==window.WebSocket}}]),e}(o.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var o=n(42),s=n(43),u=n(7);n.d(e,"a",function(){return c});var l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.metaData=new s.a(u.a.DIALECT_NAME,"Action Dialect"),t}return a(e,t),l(e,[{key:"getMetaData",value:function(){return this.metaData}},{key:"create",value:function(t){return new u.a(t)}}]),e}(o.a)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(5);n.d(e,"a",function(){return o});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){r(this,t),this.factories=new i.a}return a(t,[{key:"createDialect",value:function(t,e){var n=this.factories.get(t);return null!=n?n.create(e):null}},{key:"addFactory",value:function(t){this.factories.put(t.getMetaData().name,t)}},{key:"removeFactory",value:function(t){this.factories.remove(t.getMetaData().name)}},{key:"getFactory",value:function(t){return this.factories.get(t)}}],[{key:"getInstance",value:function(){return t.instance}}]),t}();o.instance=new o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t)}return i(t,[{key:"getMetaData",value:function(){return null}},{key:"create",value:function(t){return null}}]),t}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return i});var i=function t(e,n){r(this,t),this.name=e,this.description=n}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return a});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e){r(this,t),this.session=e,this.data=new HashMap}return i(t,[{key:"addPrimitive",value:function(t,e){var n=this.data.get(t);if(null==n)return this.data.put(t,[e]);this.data.put(t,n.concat(e))}},{key:"removePrimitive",value:function(t,e){var n=null,r=this.data.get(t);if(null!=r)for(var i=0;i<r.length;i++)if(Array.isArray(e)){var a=e;if(r[i].sn[0]==a[0]&&r[i].sn[1]==a[1]&&r[i].sn[2]==a[2]&&r[i].sn[3]==a[3]){n=r[i],r.splice(i,1),this.data.put(t,r);break}}else r[i].primitive===e&&(r.splice(i,1),n.data.put(t,r));return n}},{key:"getPrimitiveNum",value:function(){}},{key:"clean",value:function(){}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={DEBUG:1,INFO:2,WARNING:3,ERROR:4}},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function a(t){var e,n,i,a,o,s,u=t.length;o=r(t),s=new f(3*u/4-o),i=o>0?u-4:u;var l=0;for(e=0,n=0;e<i;e+=4,n+=3)a=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],s[l++]=a>>16&255,s[l++]=a>>8&255,s[l++]=255&a;return 2===o?(a=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,s[l++]=255&a):1===o&&(a=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,s[l++]=a>>8&255,s[l++]=255&a),s}function o(t){return l[t>>18&63]+l[t>>12&63]+l[t>>6&63]+l[63&t]}function s(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(o(r));return i.join("")}function u(t){for(var e,n=t.length,r=n%3,i="",a=[],o=0,u=n-r;o<u;o+=16383)a.push(s(t,o,o+16383>u?u:o+16383));return 1===r?(e=t[n-1],i+=l[e>>2],i+=l[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=l[e>>10],i+=l[e>>4&63],i+=l[e<<2&63],i+="="),a.push(i),a.join("")}e.byteLength=i,e.toByteArray=a,e.fromByteArray=u;for(var l=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=h.length;d<p;++d)l[d]=h[d],c[h.charCodeAt(d)]=d;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e,n){"use strict";(function(t){function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,n){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return o(this,t,e,n)}function o(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"==typeof e?c(t,e,n):d(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,r){return s(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function l(t,e){if(s(e),t=i(t,e<0?0:0|p(e)),!a.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!a.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,n);t=i(t,r);var o=t.write(e,n);return o!==r&&(t=t.slice(0,o)),t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=f(t,e),t}function d(t,e){if(a.isBuffer(e)){var n=0|p(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Q(e.length)?i(t,0):f(t,e);if("Buffer"===e.type&&X(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),a.alloc(+t)}function g(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return Z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(t).length;default:if(r)return Z(t).length;e=(""+e).toLowerCase(),r=!0}}function y(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,n);case"utf8":case"utf-8":return R(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return B(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){function a(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,n/=2}var l;if(i){var c=-1;for(l=n;l<s;l++)if(a(t,l)===a(e,-1===c?0:l-c)){if(-1===c&&(c=l),l-c+1===u)return c*o}else-1!==c&&(l-=l-c),c=-1}else for(n+u>s&&(n=s-u),l=n;l>=0;l--){for(var f=!0,h=0;h<u;h++)if(a(t,l+h)!==a(e,h)){f=!1;break}if(f)return l}return-1}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");r>a/2&&(r=a/2);for(var o=0;o<r;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[n+o]=s}return o}function k(t,e,n,r){return G(Z(e,t.length-n),t,n,r)}function S(t,e,n,r){return G(K(e),t,n,r)}function A(t,e,n,r){return S(t,e,n,r)}function T(t,e,n,r){return G(W(e),t,n,r)}function E(t,e,n,r){return G(V(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?q.fromByteArray(t):q.fromByteArray(t.slice(e,n))}function R(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var a=t[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var u,l,c,f;switch(s){case 1:a<128&&(o=a);break;case 2:u=t[i+1],128==(192&u)&&(f=(31&a)<<6|63&u)>127&&(o=f);break;case 3:u=t[i+1],l=t[i+2],128==(192&u)&&128==(192&l)&&(f=(15&a)<<12|(63&u)<<6|63&l)>2047&&(f<55296||f>57343)&&(o=f);break;case 4:u=t[i+1],l=t[i+2],c=t[i+3],128==(192&u)&&128==(192&l)&&128==(192&c)&&(f=(15&a)<<18|(63&u)<<12|(63&l)<<6|63&c)>65535&&f<1114112&&(o=f)}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return x(r)}function x(t){var e=t.length;if(e<=$)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=$));return n}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function B(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function L(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",a=e;a<n;++a)i+=Y(t[a]);return i}function P(t,e,n){for(var r=t.slice(e,n),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function z(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function I(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-n,2);i<a;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-n,4);i<a;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function H(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,i){return i||H(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,i){return i||H(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function M(t){if(t=F(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function F(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function Z(t,e){e=e||1/0;for(var n,r=t.length,i=null,a=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function K(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function V(t,e){for(var n,r,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function W(t){return q.toByteArray(M(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Q(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
    var q=n(46),J=n(48),X=n(49);e.Buffer=a,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,n){return o(null,t,e,n)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,n){return u(null,t,e,n)},a.allocUnsafe=function(t){return l(null,t)},a.allocUnsafeSlow=function(t){return l(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!X(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=g,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):y.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,n,r,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,s=n-e,u=Math.min(o,s),l=this.slice(r,i),c=t.slice(e,n),f=0;f<u;++f)if(l[f]!==c[f]){o=l[f],s=c[f];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return k(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return A(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;a.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(a.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=a.prototype;else{var i=e-t;r=new a(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},a.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return r},a.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,a=0;++a<e&&(i*=256);)r+=this[t+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,a=this[t+--r];r>0&&(i*=256);)a+=this[t+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},a.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),J.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),J.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),J.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),J.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){z(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){z(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);z(this,t,e,n,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<n&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);z(this,t,e,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):I(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):I(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||z(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=a.isBuffer(t)?t:Z(new a(t,r).toString()),u=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(50))},function(t,e){e.read=function(t,e,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,a=d&(1<<-c)-1,d>>=-c,c+=s;c>0;a=256*a+t[e+f],f+=h,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+t[e+f],f+=h,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),a-=l}return(d?-1:1)*o*Math.pow(2,a-r)},e.write=function(t,e,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,f=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:a-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),e+=o+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(o++,u/=2),o+f>=c?(s=0,o=c):o+f>=1?(s=(e*u-1)*Math.pow(2,i),o+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;t[n+d]=255&o,d+=p,o/=256,l-=8);t[n+d-p]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){var n,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}}]);
//# sourceMappingURL=Genie.js.map
